<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <title>eBGP ржЙржжрж╛рж╣рж░ржг</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.8;
            background-color: #f4f4f4;
            padding: 20px;
        }
        h1, h2 {
            color: #333366;
        }
        .box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        code {
            background: #eee;
            padding: 3px 5px;
            border-radius: 4px;
        }
        pre {
            background: #272822;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
        }
    </style>
</head>
<body>

<h1>ЁЯМР eBGP ржЙржжрж╛рж╣рж░ржг</h1>

<div class="box">
    <h2>ржкрж░рж┐ржмрзЗрж╢:</h2>
    <ul>
        <li><strong>Router A</strong> тЖТ ASN: 65001</li>
        <li><strong>Router B</strong> тЖТ ASN: 65002</li>
    </ul>
</div>

<div class="box">
    <h2>Router A (ASN: 65001) ржПрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h2>
    <pre>
router bgp 65001
 neighbor 192.168.12.2 remote-as 65002
 network 10.1.1.0 mask 255.255.255.0
    </pre>
</div>

<div class="box">
    <h2>Router B (ASN: 65002) ржПрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h2>
    <pre>
router bgp 65002
 neighbor 192.168.12.1 remote-as 65001
 network 20.1.1.0 mask 255.255.255.0
    </pre>
</div>

<div class="box">
    <h2>ЁЯУМ ржмрзНржпрж╛ржЦрзНржпрж╛:</h2>
    <ul>
        <li><code>neighbor</code> ржХржорж╛ржирзНржбрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржжрзБржЗржЯрж┐ router ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ eBGP session ржЧржаржи ржХрж░ржЫрзЗред</li>
        <li>Router A рждрж╛рж░ <code>10.1.1.0/24</code> ржПржмржВ Router B рждрж╛рж░ <code>20.1.1.0/24</code> prefix advertise ржХрж░ржЫрзЗред</li>
        <li>ржжрзБржЗржЯрж┐ ржнрж┐ржирзНржи ASN ржерж╛ржХрж╛рзЯ ржПржЯрж┐ ржПржХржЯрж┐ <strong>eBGP</strong> рж╕ржорзНржкрж░рзНржХред</li>
        <li>Prefix advertise ржХрж░рж╛рж░ рж╕ржорзЯ:
            <ul>
                <li>Next-hop рж╣ржмрзЗ advertise ржХрж░рж╛ router-ржПрж░ IPред</li>
                <li>AS_Path ржП router рждрж╛рж░ ASN ржпрзЛржЧ ржХрж░ржмрзЗред</li>
            </ul>
        </li>
    </ul>
</div>

<div class="box">
    <h2>ЁЯУЭ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рждржерзНржп:</h2>
    <ul>
        <li>eBGP-рждрзЗ <strong>TTL ржбрж┐ржлрж▓рзНржЯ рзз</strong>, рждрж╛ржЗ рж╕рж░рж╛рж╕рж░рж┐ рж╕ржВржпрзЛржЧ ржЫрж╛рзЬрж╛ ржХрж╛ржЬ ржХрж░ржмрзЗ ржирж╛ред</li>
        <li>AS loop prevention ржПрж░ ржЬржирзНржп router ржирж┐ржЬ ASN detect ржХрж░рж▓рзЗ prefix ржмрж╛рждрж┐рж▓ ржХрж░ржмрзЗред</li>
    </ul>
</div>



<h1>BGP Packet Types (ржмрж╛ржВрж▓рж╛ ржЯрзЗржмрж┐рж▓)</h1>

<table border="1">
    <tr>
        <th>ржЯрж╛ржЗржк</th>
        <th>ржирж╛ржо (Name)</th>
        <th>ржХрж╛ржЬрзЗрж░ ржмрж┐ржмрж░ржг (Functional Overview)</th>
    </tr>
    <tr>
        <td>1</td>
        <td>OPEN</td>
        <td>BGP рж╕ржорзНржкрж░рзНржХ (adjacency) ржЧржаржи ржУ рж╕рзНржерж╛ржкржи ржХрж░рзЗ</td>
    </tr>
    <tr>
        <td>2</td>
        <td>UPDATE</td>
        <td>рж░рзБржЯ (routes) advertise, update ржмрж╛ withdraw ржХрж░рзЗ</td>
    </tr>
    <tr>
        <td>3</td>
        <td>NOTIFICATION</td>
        <td>ржХрзЛржирзЛ ржнрзБрж▓ (error) рж╣рж▓рзЗ BGP neighbor-ржХрзЗ ржЬрж╛ржирж╛рзЯ</td>
    </tr>
    <tr>
        <td>4</td>
        <td>KEEPALIVE</td>
        <td>ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ BGP neighbor ржПржЦржирзЛ рж╕ржХрзНрж░рж┐рзЯ (alive) ржЖржЫрзЗ ржХрж┐ржирж╛</td>
    </tr>
</table>



<h2>BGP Message ржЧрзБрж▓рзЛрж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд (CSS ржЫрж╛рзЬрж╛ Simple ржЯрзЗржмрж┐рж▓)</h2>

<table border="1">
    <tr>
        <th>ржорзЗрж╕рзЗржЬрзЗрж░ ржирж╛ржо</th>
        <th>ржмрзНржпрж╛ржЦрзНржпрж╛</th>
    </tr>
    <tr>
        <td>OPEN</td>
        <td>
            BGP рж╕ржорзНржкрж░рзНржХ (adjacency) ржЧржаржи ржХрж░рж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣рзЯред ржПрж░ ржоржзрзНржпрзЗ ржерж╛ржХрзЗ: BGP version, originating router-ржПрж░ ASN, hold time, BGP identifier (Router ID), ржПржмржВ ржЕржирзНржпрж╛ржирзНржп optional parameterред 
        </td>
    </tr>
    <tr>
        <td>Hold Time</td>
        <td>
            ржкрзНрж░рждрж┐ржЯрж┐ BGP neighbor-ржПрж░ ржЬржирзНржп ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржорзЯ (рж╕рзЗржХрзЗржирзНржбрзЗ)ред UPDATE ржмрж╛ KEEPALIVE message ржкрзЗрж▓рзЗ reset рж╣рзЯред Timer рж╢рзЗрж╖ рж╣рж▓рзЗ session ржмржирзНржз рж╣рзЯред ржХржоржкржХрзНрж╖рзЗ рзй рж╕рзЗржХрзЗржирзНржб, ржЕржержмрж╛ рзж рж╣рж▓рзЗ keepalive ржмржирзНржзред Cisco-рждрзЗ default рззрзорзж рж╕рзЗржХрзЗржирзНржбред
        </td>
    </tr>
    <tr>
        <td>BGP Identifier (RID)</td>
        <td>
            рзйрзи-ржмрж┐ржЯрзЗрж░ ржЗржЙржирж┐ржХ ржирж╛ржорзНржмрж╛рж░ ржпрж╛ BGP router-ржХрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзЗред Loop prevention-ржПржУ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржмрж╛ ржЕржЯрзЛ (dynamic) рж╕рзЗржЯ ржХрж░рж╛ ржпрж╛рзЯред ржЕржмрж╢рзНржпржЗ non-zero рж╣рждрзЗ рж╣ржмрзЗред
        </td>
    </tr>
    <tr>
        <td>KEEPALIVE</td>
        <td>
            Neighbor ржЬрзАржмрж┐ржд ржЖржЫрзЗ ржХрж┐ ржирж╛ ржпрж╛ржЪрж╛ржЗрзЯрзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣рзЯред Hold time-ржПрж░ ржПржХ-рждрзГрждрзАрзЯрж╛ржВрж╢ рж╕ржорзЯ ржкрж░ржкрж░ ржкрж╛ржарж╛ржирзЛ рж╣рзЯред Cisco-рждрзЗ default hold time рззрзорзж рж╕рзЗржХрзЗржирзНржб, рждрж╛ржЗ keepalive ржкрзНрж░рждрж┐ рзмрзж рж╕рзЗржХрзЗржирзНржбрзЗред Hold time рзж рж╣рж▓рзЗ keepalive ржпрж╛рзЯ ржирж╛ред
        </td>
    </tr>
    <tr>
        <td>UPDATE</td>
        <td>
            ржирждрзБржи route advertise, ржкрзБрж░ржирзЛ route withdraw, ржЕржержмрж╛ ржжрзБржЗ ржХрж╛ржЬржЗ ржПржХрж╕рж╛ржерзЗ ржХрж░рзЗред ржПрж░ ржоржзрзНржпрзЗ ржерж╛ржХрзЗ NLRI (prefix ржУ BGP attributes)ред ржХржЦржирзЛ keepalive рж╣рж┐рж╕рзЗржмрзЗржУ ржХрж╛ржЬ ржХрж░рзЗред
        </td>
    </tr>
    <tr>
        <td>NOTIFICATION</td>
        <td>
            ржнрзБрж▓ ржзрж░рж╛ ржкрзЬрж▓рзЗ (ржпрзЗржоржи hold timer рж╢рзЗрж╖, capability change, ржЗржЪрзНржЫрж╛ржХрзГржд reset) ржкрж╛ржарж╛ржирзЛ рж╣рзЯред ржПрждрзЗ BGP connection ржмржирзНржз рж╣рзЯрзЗ ржпрж╛рзЯред
        </td>
    </tr>
</table>


<h2>BGP Neighbor States (ржмрж╛ржВрж▓рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛)</h2>

<table border="1">
    <tr>
        <th>State (ржЕржмрж╕рзНржерж╛)</th>
        <th>ржмрж░рзНржгржирж╛ (Description)</th>
    </tr>
    <tr>
        <td>Idle</td>
        <td>рж╢рзБрж░рзБ ржХрж░рж╛рж░ ржзрж╛ржк, TCP connection рждрзИрж░рж┐ рж╣рзЯ ржирж╛ред рж╕ржлрж▓ рж╣рж▓рзЗ Connect ржП ржпрж╛рзЯред</td>
    </tr>
    <tr>
        <td>Connect</td>
        <td>TCP connection рж╕рзНржерж╛ржкржирзЗрж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж╛ рж╣рзЯред рж╕ржлрж▓ рж╣рж▓рзЗ OpenSent ржП ржпрж╛рзЯ, ржмрзНржпрж░рзНрже рж╣рж▓рзЗ Active ржПред</td>
    </tr>
    <tr>
        <td>Active</td>
        <td>TCP connection ржкрзБржирж░рж╛рзЯ рж╕рзНржерж╛ржкржирзЗрж░ ржЪрзЗрж╖рзНржЯрж╛ред рж╕ржлрж▓ рж╣рж▓рзЗ OpenSent, ржмрзНржпрж░рзНрже рж╣рж▓рзЗ Idleред</td>
    </tr>
    <tr>
        <td>OpenSent</td>
        <td>TCP connection рж╕ржлрж▓ рж╣рж▓рзЗ OPEN message ржкрж╛ржарж╛рзЯ ржУ neighbor ржерзЗржХрзЗ message-ржПрж░ ржЕржкрзЗржХрзНрж╖рж╛ред</td>
    </tr>
    <tr>
        <td>OpenConfirm</td>
        <td>KEEPALIVE message ржЪрж╛рж▓рж╛ржЪрж╛рж▓рж┐ рж╣рзЯред рж╕ржм ржарж┐ржХ ржерж╛ржХрж▓рзЗ Established ржП ржпрж╛рзЯред</td>
    </tr>
    <tr>
        <td>Established</td>
        <td>BGP session рж╕ржлрж▓ржнрж╛ржмрзЗ ржЧржарж┐рждред UPDATE, KEEPALIVE, NOTIFICATION ржЪрж╛рж▓рж╛ржЪрж╛рж▓рж┐ рж╣рзЯред</td>
    </tr>
</table>


    <h1>BGP ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рж╛рж░ ржкржжржХрзНрж╖рзЗржкржЧрзБрж▓рж┐</h1>

    <h2>Step 1:</h2>
    <p>BGP рж░рж╛ржЙржЯрж┐ржВ ржкрзНрж░рж╕рзЗрж╕ ржЗржирж┐рж╢рж┐рзЯрж╛рж▓рж╛ржЗржЬ ржХрж░рзБржи ржЧрзНрж▓рзЛржмрж╛рж▓ ржХржорж╛ржирзНржб <code>router bgp as-number</code> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред</p>
    <p><strong>ржЙржжрж╛рж╣рж░ржг:</strong><br>
    <code>router bgp 65001</code></p>

    <h2>Step 2:</h2>
    <p>(ржРржЪрзНржЫрж┐ржХ) BGP рж░рж╛ржЙржЯрж╛рж░ ржЖржЗржбрж┐ (RID) рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХржнрж╛ржмрзЗ рж╕ржВржЬрзНржЮрж╛рзЯрж┐ржд ржХрж░рзБржиред ржбрж╛ржЗржирж╛ржорж┐ржХ RID ржмрж░рж╛ржжрзНржжрзЗрж░ ржЬржирзНржп рж▓рзБржкржмрзНржпрж╛ржХ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ржЧрзБрж▓рж┐рж░ ржоржзрзНржпрзЗ рж╕рж░рзНржмрзЛржЪрзНржЪ IP ржарж┐ржХрж╛ржирж╛ ржмрзНржпржмрж╣рзГржд рж╣рзЯред ржпржжрж┐ ржХрзЛржирзЛ рж▓рзБржкржмрзНржпрж╛ржХ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ рж╕ржХрзНрж░рж┐рзЯ ржирж╛ ржерж╛ржХрзЗ, рждржмрзЗ рж╕ржХрзНрж░рж┐рзЯ рж╕ржм ржЗржирзНржЯрж╛рж░ржлрзЗрж╕рзЗрж░ ржоржзрзНржпрзЗ рж╕рж░рзНржмрзЛржЪрзНржЪ IP ржарж┐ржХрж╛ржирж╛ BGP ржкрзНрж░рж╕рзЗрж╕ ржЗржирж┐рж╢рж┐рзЯрж╛рж▓рж╛ржЗржЬ рж╣ржУрзЯрж╛рж░ рж╕ржорзЯ RID рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред</p>
    <p>RID ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ рж╣ржУрзЯрж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ RID ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ ржЙржЪрж┐ржд (рж╕рж╛ржзрж╛рж░ржгржд ржПржХржЯрж┐ рж▓рзБржкржмрзНржпрж╛ржХ ржарж┐ржХрж╛ржирж╛)ред ржпрзЗржХрзЛржирзЛ IPv4 ржарж┐ржХрж╛ржирж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ, ржПржоржиржХрж┐ ржпрзЗржЧрзБрж▓рж┐ рж░рж╛ржЙржЯрж╛рж░рзЗ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рж╛ ржирзЗржЗред BGP RID рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХржнрж╛ржмрзЗ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рж╛ ржПржХржЯрж┐ ржнрж╛рж▓ ржЕржнрзНржпрж╛рж╕ ржПржмржВ ржПрж░ ржЬржирзНржп <code>bgp router-id router-id</code> ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред</p>
    <p><strong>ржЙржжрж╛рж╣рж░ржг:</strong><br>
    <code>bgp router-id 192.168.1.1</code></p>

    <h2>Step 3:</h2>
    <p>BGP neighbor ржПрж░ IP ржарж┐ржХрж╛ржирж╛ ржПржмржВ ржЕржЯрзЛржирзЛржорж╛рж╕ рж╕рж┐рж╕рзНржЯрзЗржо ржиржорзНржмрж░ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзБржи BGP рж░рж╛ржЙржЯрж╛рж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржХржорж╛ржирзНржб <code>neighbor ip-address remote-as as-number</code> ржжрж┐рзЯрзЗред</p>
    <p>BGP ржкрзНржпрж╛ржХрзЗржЯрзЗрж░ ржЯрзНрж░рж╛ржлрж┐ржХ ржкрзНрж░ржмрж╛рж╣ ржмрзЛржЭрж╛ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред ржпржЦржи ржПржХржЯрж┐ BGP ржкрзНржпрж╛ржХрзЗржЯ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ, рж░рж╛ржЙржЯрж╛рж░ рждрж╛рж░ рж╕рзЛрж░рзНрж╕ IP ржарж┐ржХрж╛ржирж╛ neighbor ржПрж░ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рж╛ IP ржарж┐ржХрж╛ржирж╛рж░ рж╕рж╛ржерзЗ ржорж┐рж▓рж┐рзЯрзЗ ржлрзЗрж▓рзЗред ржпржжрж┐ рж╕рзЛрж░рзНрж╕ IP ржарж┐ржХрж╛ржирж╛ neighbor ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕рж╛ржерзЗ ржорзЗрж▓рзЗ ржирж╛, рждрж╛рж╣рж▓рзЗ ржкрзНржпрж╛ржХрзЗржЯржЯрж┐ ржмрж╛рждрж┐рж▓ рж╣рзЯрзЗ ржпрж╛ржмрзЗред</p>
    <p><strong>ржЙржжрж╛рж╣рж░ржг:</strong><br>
    <code>neighbor 192.168.1.2 remote-as 65002</code></p>

    <h2>Step 4:</h2>
    <p>ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐ ржЗржирж┐рж╢рж┐рзЯрж╛рж▓рж╛ржЗржЬ ржХрж░рзБржи BGP рж░рж╛ржЙржЯрж╛рж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржХржорж╛ржирзНржб <code>address-family afi safi</code> ржжрж┐рзЯрзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, afi ржорж╛ржи рж╣рждрзЗ ржкрж╛рж░рзЗ IPv4 ржПржмржВ IPv6, ржПржмржВ safi ржорж╛ржи рж╣рждрзЗ ржкрж╛рж░рзЗ unicast ржПржмржВ multicastред</p>
    <p><strong>ржЙржжрж╛рж╣рж░ржг:</strong><br>
    <code>address-family ipv4 unicast</code></p>

    <h2>Step 5:</h2>
    <p>BGP neighbor ржПрж░ ржЬржирзНржп ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐ ржЕрзНржпрж╛ржХрзНржЯрж┐ржнрзЗржЯ ржХрж░рзБржи BGP ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржХржорж╛ржирзНржб <code>neighbor ip-address activate</code> ржжрж┐рзЯрзЗред</p>
    <p><strong>ржЙржжрж╛рж╣рж░ржг:</strong><br>
    <code>neighbor 192.168.1.2 activate</code></p>
    





        <h2>BGP рж╕рзЗрж╢ржи рж╕рж╛рж░рж╛ржВрж╢ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛</h2>
        <p>ржПржЗ ржХржорж╛ржирзНржбржЯрж┐ ржжрж┐рзЯрзЗ BGP рж╕рзЗрж╢ржирзЗрж░ рж╕рж╛рж░рж╛ржВрж╢ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ рж╣рзЯред ржирж┐ржЪрзЗ ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг ржжрзЗрзЯрж╛ рж╣рж▓рзЛ:</p>
        
        <pre>
R1# show bgp ipv4 unicast summary
BGP router identifier 192.168.2.2, local AS number 65200
BGP table version is 1, main routing table version 1
Neighbor       V    AS   MsgRcvd   MsgSent   TblVer   InQ   OutQ   Up/Down   State/PfxRcd
10.12.1.2      4  65200   8         9         1        0     0     00:05:23   0
        </pre>

        <p>ржПржЦрж╛ржирзЗ:</p>
        <ul>
            <li><strong>Neighbor</strong>: ржкрж┐рзЯрж╛рж░ IP ржарж┐ржХрж╛ржирж╛ (10.12.1.2)</li>
            <li><strong>V</strong>: BGP рж╕ржВрж╕рзНржХрж░ржг (рзк)</li>
            <li><strong>AS</strong>: ржкрж┐рзЯрж╛рж░-ржПрж░ AS рж╕ржВржЦрзНржпрж╛ (65200)</li>
            <li><strong>MsgRcvd</strong>: ржкрж┐рзЯрж╛рж░ ржерзЗржХрзЗ ржкрзНрж░рж╛ржкрзНржд ржмрж╛рж░рзНрждрж╛рж░ рж╕ржВржЦрзНржпрж╛ (рзо)</li>
            <li><strong>MsgSent</strong>: ржкрж┐рзЯрж╛рж░ржХрзЗ ржкрзНрж░рзЗрж░рж┐ржд ржмрж╛рж░рзНрждрж╛рж░ рж╕ржВржЦрзНржпрж╛ (рзп)</li>
            <li><strong>Up/Down</strong>: рж╕рзЗрж╢ржиржЯрж┐ рзл ржорж┐ржирж┐ржЯ рзирзй рж╕рзЗржХрзЗржирзНржб ржзрж░рзЗ ржЖржк рж░рзЯрзЗржЫрзЗ</li>
        </ul>
    </section>

    <section>
        <h2>BGP ржкрзЗрзЯрж╛рж░ рж╕ржорзНржкрж░рзНржХрж┐ржд ржЖрж░ржУ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рждржерзНржп</h2>
        <p>ржЖрж░ржУ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рждржерзНржп ржкрж╛ржУрзЯрж╛рж░ ржЬржирзНржп, ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ:</p>
        
        <pre>
R2# show bgp ipv4 unicast neighbors 10.12.1.1

BGP neighbor is 10.12.1.1, remote AS65100, external link
BGP version 4, remote router ID 192.168.1.1
BGP state = Established, up for 00:01:04
Last read 00:00:10, last write 00:00:09, hold is 180, keepalive is 60 seconds

Neighbor capabilities:
Route refresh: advertised and received(new)
Four-octets ASN Capability: advertised and received
Address family IPv4 Unicast: advertised and received
Enhanced Refresh Capability: advertised
Multisession Capability:
Stateful switchover support enabled: NO for session 1

Message statistics:
Sent       Rcvd
Opens:                  1          1
Notifications:          0          0
Updates:                0          0
Keepalives:             2          2
Route Refresh:          0          0
Total:                  4          3

Address tracking is enabled, the RIB does have a route to 10.12.1.1
Connections established 2; dropped 1
Last reset 00:01:40, due to Peer closed the session
        </pre>

        <p>ржПржЦрж╛ржирзЗ:</p>
        <ul>
            <li><strong>BGP State</strong>: рж╕рзЗрж╢ржиржЯрж┐ ржмрж░рзНрждржорж╛ржирзЗ Established ржЕржмрж╕рзНржерж╛рзЯ рж░рзЯрзЗржЫрзЗ ржПржмржВ рзз ржорж┐ржирж┐ржЯ рзк рж╕рзЗржХрзЗржирзНржб ржзрж░рзЗ ржЪрж▓ржорж╛ржиред</li>
            <li><strong>Neighbor Capabilities</strong>: ржЙрж▓рзНрж▓рзЗржЦ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ ржпрзЗ, BGP ржкрзЗрзЯрж╛рж░ рж░рзБржЯ рж░рж┐ржлрзНрж░рзЗрж╢, ржлрзЛрж░-ржЕрзНржпрж╛ржХржЯрзЗржЯ ржПрж╕ржПржи (ASN) рж╕ржХрзНрж╖ржорждрж╛, IPv4 ржЗржЙржирж┐ржХрж╛рж╕рзНржЯ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐ ржкрзНрж░ржнрзГрждрж┐ ржмрж┐ржЬрзНржЮрж╛ржкржи ржУ ржЧрзНрж░рж╣ржг ржХрж░ржЫрзЗред</li>
            <li><strong>Message Statistics</strong>: ржПржЦрж╛ржирзЗ ржмрж╛рж░рзНрждрж╛ рж╕ржорзНржкрж░рзНржХрж┐ржд рждржерзНржп ржжрзЗржЦрж╛ржЪрзНржЫрзЗтАФржХрждржмрж╛рж░ ржУржкрзЗржи, ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи, ржЖржкржбрзЗржЯ ржПржмржВ ржХрж┐ржкржЕрж▓рж╛ржЗржн ржорзЗрж╕рзЗржЬ ржкрзНрж░рзЗрж░рж┐ржд ржУ ржкрзНрж░рж╛ржкрзНржд рж╣рзЯрзЗржЫрзЗред</li>
            <li><strong>Address Tracking</strong>: RIB (Routing Information Base) ржерзЗржХрзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ ржпрзЗ, рззрзж.рззрзи.рзз.рзз ржарж┐ржХрж╛ржирж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ рж░рзБржЯ ржЙржкрж╕рзНржерж┐ржд рж░рзЯрзЗржЫрзЗред</li>
        </ul>
    </section>


        <h1>Prefix Advertisement</h1>
        <p>BGP ржирзЗржЯржУрзЯрж╛рж░рзНржХ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯржЧрзБрж▓рж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕рзЗ BGP рж╕ржХрзНрж░рж┐рзЯ ржХрж░рзЗ ржирж╛; ржмрж░ржВ ржПржЧрзБрж▓рж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржирзЗржЯржУрзЯрж╛рж░рзНржХ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ржЧрзБрж▓рж┐ржХрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзЗ, ржпрж╛ BGP ржЯрзЗржмрж┐рж▓рзЗ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ рж╣рзЯ, ржпрж╛ Loc-RIB ржЯрзЗржмрж┐рж▓ рж╣рж┐рж╕рзЗржмрзЗ ржкрж░рж┐ржЪрж┐рждред</p>
        
        <h2>ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ ржмрж┐ржЬрзНржЮрж╛ржкржи ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛</h2>
        <p>ржПржХржЯрж┐ BGP ржирзЗржЯржУрзЯрж╛рж░рзНржХ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рж╛рж░ ржкрж░, BGP ржкрзНрж░рж╕рзЗрж╕ ржЧрзНрж▓рзЛржмрж╛рж▓ RIB-ржП ржПржХржЯрж┐ рж╕ржарж┐ржХ ржирзЗржЯржУрзЯрж╛рж░рзНржХ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ ржорзНржпрж╛ржЪрзЗрж░ ржЬржирзНржп ржЕржирзБрж╕ржирзНржзрж╛ржи ржХрж░рзЗред</p>
        
        <h3>ржирзЗржЯржУрзЯрж╛рж░рзНржХ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржПржмржВ RIB</h3>
        <ul>
            <li><strong>рж╕ржВржпрзБржХрзНржд ржирзЗржЯржУрзЯрж╛рж░рзНржХ:</strong> Next-hop BGP ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЯрж┐ 0.0.0.0 рж╕рзЗржЯ ржХрж░рж╛ рж╣рзЯ, BGP ржЙрзОрж╕ ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЯрж┐ 'i' (IGP) рж╕рзЗржЯ ржХрж░рж╛ рж╣рзЯ, ржПржмржВ BGP ржУрзЯрзЗржЯ 32,768 рж╕рзЗржЯ ржХрж░рж╛ рж╣рзЯред</li>
            <li><strong>рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ рж░рзБржЯ ржмрж╛ рж░рж╛ржЙржЯрж┐ржВ ржкрзНрж░рзЛржЯрзЛржХрж▓:</strong> Next-hop BGP ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЯрж┐ RIB-ржП ржерж╛ржХрж╛ ржирзЗржХрзНрж╕ржЯ-рж╣ржк IP ржарж┐ржХрж╛ржирж╛ ржжрж┐рзЯрзЗ рж╕рзЗржЯ ржХрж░рж╛ рж╣рзЯ, BGP ржЙрзОрж╕ ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЯрж┐ 'i' (IGP) ржерж╛ржХрзЗ, BGP ржУрзЯрзЗржЯ 32,768 ржерж╛ржХрзЗ, ржПржмржВ MED (Multi-Exit Discriminator) IGP ржорзЗржЯрзНрж░рж┐ржХрзЗрж░ рж╕рж╛ржерзЗ рж╕рзЗржЯ ржХрж░рж╛ рж╣рзЯред</li>
        </ul>
    
        <h3>ржкрзНрж░рж╕рзЗрж╕рж┐ржВ рж╕рзНржЯрзЗржкрж╕</h3>
        <p>ржкрзНрж░рждрзНржпрзЗржХржЯрж┐ рж░рзБржЯ Loc-RIB ржЯрзЗржмрж┐рж▓рзЗ BGP ржкрж┐рзЯрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗ ржмрж┐ржЬрзНржЮрж╛ржкржи ржХрж░рж╛ рж╣рзЯ ржирж╛ред Loc-RIB ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзБржЯ BGP ржкрж┐рзЯрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗ ржмрж┐ржЬрзНржЮрж╛ржкржи ржХрж░рж╛рж░ ржЬржирзНржп ржирж┐ржЪрзЗрж░ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ ржЕржирзБрж╕рж░ржг ржХрж░рж╛ рж╣рзЯ:</p>
        <ol>
            <li><strong>ржкржжржХрзНрж╖рзЗржк рзз:</strong> ржкрзНрж░ржорж╛ржгрзАржХрж░ржг ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ рж╣рзЯред ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛ рж╣рзЯ ржпрзЗ NRLI ржмрзИржз ржПржмржВ ржирзЗржХрзНрж╕ржЯ-рж╣ржк ржарж┐ржХрж╛ржирж╛ржЯрж┐ ржЧрзНрж▓рзЛржмрж╛рж▓ RIB-ржП рж╕ржорж╛ржзрж╛ржиржпрзЛржЧрзНржпред</li>
            <li><strong>ржкржжржХрзНрж╖рзЗржк рзи:</strong> ржЖржЙржЯржмрж╛ржЙржирзНржб ржкрж┐рзЯрж╛рж░ рж░рж╛ржЙржЯ ржкрж▓рж┐рж╕рж┐ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ ржХрж░рж╛ рж╣рзЯред</li>
            <li><strong>ржкржжржХрзНрж╖рзЗржк рзй:</strong> NLRI ржмрж┐ржЬрзНржЮрж╛ржкржи ржХрж░рж╛ рж╣рзЯ BGP ржкрж┐рзЯрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗред</li>
        </ol>
    
        <h3>BGP ржЯрзЗржмрж┐рж▓ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ржХрж░ржг</h3>
        <p><strong>ржЯрж┐ржк:</strong> BGP рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕рзЗрж░рж╛ ржкрже (Best Path) ржЕржирзНржп BGP ржкрж┐рзЯрж╛рж░ржжрзЗрж░ ржХрж╛ржЫрзЗ ржмрж┐ржЬрзНржЮрж╛ржкржи ржХрж░рзЗ, ржХрзЛржи рж░ржХржорзЗрж░ рж░рзБржЯ (NLRI) BGP Loc-RIB ржЯрзЗржмрж┐рж▓рзЗ ржерж╛ржХрж╛ рж╕рждрзНрждрзНржмрзЗржУред</p>
        
        <h2>ржирзЗржЯржУрзЯрж╛рж░рзНржХ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи</h2>
        <p>ржирзЗржЯржУрзЯрж╛рж░рзНржХ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯржЯрж┐ BGP рж░рж╛ржЙржЯрж╛рж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржирзЗрж░ ржЕржзрзАржирзЗ рж╕ржВрж╢рзНрж▓рж┐рж╖рзНржЯ ржарж┐ржХрж╛ржирж╛ ржлрзНржпрж╛ржорж┐рж▓рж┐рж░ ржоржзрзНржпрзЗ ржерж╛ржХрзЗред ржХржорж╛ржирзНржб <code>network network mask subnet-mask [route-map route-map-name]</code> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ IPv4 ржирзЗржЯржУрзЯрж╛рж░рзНржХ ржмрж┐ржЬрзНржЮрж╛ржкржи ржХрж░рж╛рж░ ржЬржирзНржпред</p>
        
        <h3>ржЙржжрж╛рж╣рж░ржг рззрзз-рзл: BGP ржирзЗржЯржУрзЯрж╛рж░рзНржХ ржмрж┐ржЬрзНржЮрж╛ржкржи ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи</h3>
        
        <pre>
        R1:
        router bgp 65100
        bgp log-neighbor-changes
        no bgp default ipv4-unicast
        neighbor 10.12.1.2 remote-as 100
        network 10.12.1.0 mask 255.255.255.0
        network 192.168.1.1 mask 255.255.255.255
        
        R2:
        router bgp 65200
        bgp log-neighbor-changes
        no bgp default ipv4-unicast
        neighbor 10.12.1.1 remote-as 65100
        !
        address-family ipv4
        network 10.12.1.0 mask 255.255.255.0
        network 192.168.2.2 mask 255.255.255.255
        neighbor 10.12.1.1 activate
        exit-address-family
        </pre>



            <h1>рж░рзБржЯ (Route) ржЧрзНрж░рж╣ржг ржПржмржВ ржжрзЗржЦрж╛ (Receiving and Viewing Routes)</h1>
        
            <p>BGP (Border Gateway Protocol) ржпрзЗ ржХрзЛржирзЛ рж░рзБржЯ ржмрж╛ ржкрже (Route) ржЧрзНрж░рж╣ржг ржУ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рж╛рж░ ржЬржирзНржп рзйржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржЯрзЗржмрж┐рж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ:</p>
        
            <h2>Adj-RIB-In (Adjacent Routing Information Base-In)</h2>
            <ul>
                <li>ржПржЦрж╛ржирзЗ рж╕ржм рж░рзБржЯ (Network Prefixes) ржкрзНрж░ржержорзЗ ржЬржорж╛ рж╣рзЯ ржпрзЗржнрж╛ржмрзЗ ржкрзЗрзЯрзЗржЫрзЗ, ржорж╛ржирзЗ ржЗржиржмрж╛ржЙржирзНржб (inbound) рж░рзБржЯ ржкрж▓рж┐рж╕рж┐ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ржХрж░ржгрзЗрж░ ржЖржЧрзЗрж░ ржЕржмрж╕рзНржерж╛рзЯред</li>
                <li>ржорзЗржорзЛрж░рж┐ ржмрж╛ржБржЪрж╛ржирзЛрж░ ржЬржирзНржп, ржЗржиржмрж╛ржЙржирзНржб рж░рзБржЯ ржкрж▓рж┐рж╕рж┐ ржкрзНрж░рзЯрзЛржЧ ржХрж░рж╛рж░ ржкрж░ ржПржЗ ржЯрзЗржмрж┐рж▓ ржерзЗржХрзЗ ржбрзЗржЯрж╛ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ рж╣рзЯред</li>
            </ul>
        
            <h2>Loc-RIB (Local Routing Information Base)</h2>
            <ul>
                <li>ржПржЦрж╛ржирзЗ рж╕ржм рж░рзБржЯ ржерж╛ржХрзЗ, ржпрзЗржЧрзБрж▓рзЛ BGP ржкрж┐рзЯрж╛рж░ (peer) ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗ ржмрж╛ рж▓рзЛржХрж╛рж▓рж┐ (local) рждрзИрж░рж┐ рж╣рзЯрзЗржЫрзЗред</li>
                <li>рж░рзБржЯржЧрзБрж▓рзЛ ржпрж╛ржЪрж╛ржЗ (validity check) ржХрж░рж╛ рж╣рзЯ, ржпрзЗржоржи ржирзЗржХрзНрж╕ржЯ-рж╣ржк (Next-Hop) IP ржарж┐ржХрж╛ржирж╛ржЯрж┐ ржарж┐ржХ ржЖржЫрзЗ ржХрж┐ржирж╛ред</li>
                <li>рж╕ржарж┐ржХ (valid) рж░рзБржЯ ржерзЗржХрзЗ BGP "рж╕рзЗрж░рж╛ ржкрже" (Best Path) ржмрзЗржЫрзЗ ржирзЗрзЯред</li>
                <li>ржПржЗ Loc-RIB ржЯрзЗржмрж┐рж▓ ржерзЗржХрзЗ рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗ (IP Routing Table) рж░рзБржЯ ржкрж╛ржарж╛ржирзЛ рж╣рзЯред</li>
            </ul>
        
            <h2>Adj-RIB-Out (Adjacent Routing Information Base-Out)</h2>
            <ul>
                <li>ржПржЦрж╛ржирзЗ рж╕рзЗржЗ рж╕ржм рж░рзБржЯ рж░рж╛ржЦрж╛ рж╣рзЯ, ржпрзЗржЧрзБрж▓рзЛ ржЖржЙржЯржмрж╛ржЙржирзНржб (outbound) рж░рзБржЯ ржкрж▓рж┐рж╕рж┐ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛рж░ ржкрж░ BGP ржкрж┐рзЯрж╛рж░ржжрзЗрж░ ржХрж╛ржЫрзЗ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржп рждрзИрж░рж┐ ржХрж░рж╛ рж╣рзЯред</li>
                <li>рж╕ржм рж░рзБржЯ BGP ржкрж┐рзЯрж╛рж░ржжрзЗрж░ ржкрж╛ржарж╛ржирзЛ рж╣рзЯ ржирж╛ ржмрж╛ ржЧрзНрж▓рзЛржмрж╛рж▓ RIB (Routing Information Base)-ржП ржпрзЛржЧ рж╣рзЯ ржирж╛ред</li>
            </ul>
        
            <h2>BGP ржХрж┐ржнрж╛ржмрзЗ рж░рзБржЯ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рзЗ? (BGP Route Processing Steps)</h2>
        
            <h3>Step 1:</h3>
            <p>рж░рзБржЯ ржкрзНрж░ржержорзЗ Adj-RIB-In ржЯрзЗржмрж┐рж▓рзЗ ржЬржорж╛ рж╣рзЯред рждрж╛рж░ржкрж░ ржпрзЗржЦрж╛ржи ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗ рж╕рзЗржЗ ржкрзНрж░рждрж┐ржмрзЗрж╢рзАрж░ (neighbor) ржЬржирзНржп ржирж┐рж░рзНржзрж╛рж░рж┐ржд ржЗржиржмрж╛ржЙржирзНржб рж░рзБржЯ ржкрж▓рж┐рж╕рж┐ ржкрзНрж░рзЯрзЛржЧ ржХрж░рж╛ рж╣рзЯред</p>
        
            <h3>Step 2:</h3>
            <p>ржЗржиржмрж╛ржЙржирзНржб ржкрж▓рж┐рж╕рж┐рж░ ржкрж░рзЗ рж░рзБржЯ Loc-RIB ржП ржЬржорж╛ рж╣рзЯред рждрж╛рж░ржкрж░ Adj-RIB-In ржерзЗржХрзЗ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ рж╣рзЯ (ржорзЗржорзЛрж░рж┐ ржмрж╛ржБржЪрж╛ржирзЛрж░ ржЬржирзНржп)ред</p>
        
            <h3>Step 3:</h3>
            <p>рж░рзБржЯржЯрж┐ ржарж┐ржХ ржЖржЫрзЗ ржХрж┐ржирж╛ (Validity Check) ржПржмржВ ржирзЗржХрзНрж╕ржЯ-рж╣ржк ржарж┐ржХрж╛ржирж╛ржЯрж┐ ржЖрж╕рж▓рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯ ржХрж┐ржирж╛ рж╕рзЗржЯрж╛ ржжрзЗржЦрж╛ рж╣рзЯред</p>
            <p>ржпржжрж┐ рж░рзБржЯ Valid ржирж╛ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж╛ Loc-RIB ржП ржерзЗржХрзЗ ржпрж╛рзЯ ржХрж┐ржирзНрждрзБ ржЖрж░ ржПржЧрзЛрзЯ ржирж╛ред</p>
        
            <h3>Step 4:</h3>
            <p>BGP ржПржЦржи рж╕рзЗрж░рж╛ ржкрже (Best Path) ржмрзЗржЫрзЗ ржирзЗрзЯ ржПржмржВ рж╕рзЗржЗ ржкржерзЗрж░ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ рждржерзНржп (Path Attributes) ржирж┐рзЯрзЗ ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкрзЗ ржпрж╛рзЯред</p>
        
            <h3>Step 5:</h3>
            <ul>
                <li>BGP ржПрж░ ржмрж╛ржЫрж╛ржЗ ржХрж░рж╛ рж╕рзЗрж░рж╛ рж░рзБржЯ (Best Path) ржЧрзНрж▓рзЛржмрж╛рж▓ RIB (Routing Table)-ржП ржпрзБржХрзНржд рж╣рзЯред</li>
                <li>ржЖржЙржЯржмрж╛ржЙржирзНржб рж░рзБржЯ ржкрж▓рж┐рж╕рж┐ ржкрзНрж░рзЯрзЛржЧ ржХрж░рж╛ рж╣рзЯред</li>
                <li>ржпрзЗрж╕ржм рж░рзБржЯ ржмрж╛ржж ржпрж╛рзЯ ржирж╛ рж╕рзЗржЧрзБрж▓рзЛ Adj-RIB-Out ржП ржЬржорж╛ рж╣рзЯред</li>
                <li>ржПрж░ржкрж░ ржПржЗ рж░рзБржЯ BGP ржкрж┐рзЯрж╛рж░ржжрзЗрж░ ржХрж╛ржЫрзЗ ржкрж╛ржарж╛ржирзЛ рж╣рзЯ (Advertise ржХрж░рж╛ рж╣рзЯ)ред</li>
            </ul>

                <h1>ЁЯМР BGP рж░рзБржЯ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ-ржПрж░ рж╕рж╣ржЬ Flow Chart (ржмрж╛ржВрж▓рж╛рзЯ)</h1>
            
                <pre>
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ        рж░рзБржЯ (Route) ржкрж╛ржУрзЯрж╛ ржЧрзЗрж▓рзЛ         тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ рзз. Adj-RIB-In ржП ржЬржорж╛ ржХрж░рж╛ рж╣рж▓рзЛ тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ ржЗржиржмрж╛ржЙржирзНржб (Inbound) рж░рзБржЯ ржкрж▓рж┐рж╕рж┐ тФВ
                    тФВ ржкрзНрж░рзЯрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ               тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ рзи. Loc-RIB ржЯрзЗржмрж┐рж▓рзЗ ржкрж╛ржарж╛ржирзЛ рж╣рж▓рзЛ тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ Adj-RIB-In ржерзЗржХрзЗ рж░рзБржЯ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ рзй. Validity Check:            тФВ
                    тФВ - рж░рзБржЯ рж╕ржарж┐ржХ ржХрж┐?                тФВ
                    тФВ - ржирзЗржХрзНрж╕ржЯ-рж╣ржк IP ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ ржХрж┐? тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ                           тФВ
                    тЦ╝                           тЦ╝
                тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР          тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                тФВ  рж╕ржарж┐ржХ (Valid) тФВ          тФВ ржнрзБрж▓ (Invalid)   тФВ
                тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ          тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                        тФВ                               тФВ
                        тЦ╝                               тЦ╝
                тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР   тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                тФВ ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкрзЗ ржпрж╛ржмрзЗ           тФВ   тФВ Loc-RIB ржП ржерж╛ржХржмрзЗ, ржХрж╛ржЬ рж╣ржмрзЗ ржирж╛ тФВ
                тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ   тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ рзк. BGP Best Path ржирж┐рж░рзНржмрж╛ржЪржи    тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ рзл. рж╕рзЗрж░рж╛ рж░рзБржЯ Routing Table ржП ржпрзБржХрзНржд рж╣ржмрзЗ тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ ржЖржЙржЯржмрж╛ржЙржирзНржб (Outbound) ржкрж▓рж┐рж╕рж┐   тФВ
                    тФВ ржкрзНрж░рзЯрзЛржЧ ржХрж░рж╛ рж╣ржмрзЗ               тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ Adj-RIB-Out ржП рж░рзБржЯ ржЬржорж╛ рж╣ржмрзЗ    тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тФВ
                                  тЦ╝
                    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                    тФВ BGP ржкрж┐рзЯрж╛рж░ржжрзЗрж░ рж░рзБржЯ ржкрж╛ржарж╛ржирзЛ рж╣ржмрзЗ тФВ
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                </pre>
            

    x
    <p>BGP ржкрж┐рзЯрж╛рж░ржжрзЗрж░ рж░рзБржЯ ржкрж╛ржарж╛ржирзЛ рж╣ржмрзЗ</p>

    <h3>ЁЯФС рж╕ржВржХрзНрж╖рзЗржкрзЗ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржХрзМрж╢рж▓ (Shortcut to Remember Steps):</h3>
    <p>Adj-RIB-In тЖТ Inbound Policy тЖТ Loc-RIB тЖТ Validity Check тЖТ Best Path тЖТ Routing Table тЖТ Outbound Policy тЖТ Adj-RIB-Out тЖТ ржкрж┐рзЯрж╛рж░ржжрзЗрж░ ржкрж╛ржарж╛ржирзЛ</p>


    
    <h1>ЁЯФ╡ BGP Table ржжрзЗржЦрж╛ ржУ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг (ржмрж╛ржВрж▓рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛рж╕рж╣ ржЙржжрж╛рж╣рж░ржг)</h1>
    
    <h2>ЁЯФ╢ ржЯржкрж┐ржХ: "show bgp afi safi" ржХржорж╛ржирзНржб</h2>
    
    <p>BGP (Border Gateway Protocol) ржбрзЗржЯрж╛ржмрзЗрж╕ (Loc-RIB) ржПрж░ ржнрзЗрждрж░рзЗрж░ рж╕ржм рж░рзБржЯ (Routes) ржжрзЗржЦрждрзЗ <b>show bgp afi safi</b> ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред ржПржЗ Loc-RIB ржЯрзЗржмрж┐рж▓рзЗ BGP рж░рж╛ржЙржЯрж╛рж░ рждрж╛рж░ рж╢рзЗржЦрж╛ (received) ржПржмржВ рж▓рзЛржХрж╛рж▓рж┐ рждрзИрж░рж┐ (locally generated) рж░рзБржЯ ржЬржорж╛ рж░рж╛ржЦрзЗред</p>
    
    <h3>тЬЕ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржмрж┐рж╖рзЯ:</h3>
    <ul>
        <li>ржкрзНрж░рждрж┐ржЯрж╛ ржирзЗржЯржУрзЯрж╛рж░рзНржХ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ (Network Prefix)-ржПрж░ ржЬржирзНржп ржПржХрж╛ржзрж┐ржХ ржкрже (Multiple Paths) ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред</li>
        <li>рж╕рзЗрж░рж╛ ржкрже (Best Path) ржЪрж┐рж╣рзНржирж┐ржд ржерж╛ржХрзЗред</li>
    </ul>
    
    <h3>тЬЕ ржЙржжрж╛рж╣рж░ржг рззрзз-рзм: BGP ржЯрзЗржмрж┐рж▓ ржжрзЗржЦрж╛ (Router R1)</h3>
    
    <h3>ЁЯУЛ ржХржорж╛ржирзНржб ржУ ржЖржЙржЯржкрзБржЯ:</h3>
    <pre>
    R1# show bgp ipv4 unicast
    BGP table version is 4, local router ID is 192.168.1.1
    Status codes: s suppressed, d damped, h history, * valid, > best, i - internal,
    r RIB-failure, S Stale, m multipath, b backup-path, f RT-Filter,
    x best-external, a additional-path, c RIB-compressed,
    Origin codes: i - IGP, e - EGP, ? - incomplete
    RPKI validation codes: V valid, I invalid, N Not found
    
    Network          Next Hop            Metric LocPrf Weight Path
    *   10.12.1.0/24     10.12.1.2                0             0 65200 i
    *>                   0.0.0.0                  0         32768 i
    *>  192.168.1.1/32   0.0.0.0                  0         32768 i
    *>  192.168.2.2/32   10.12.1.2                0             0 65200 i
    </pre>
    
    <h3>ЁЯУЭ ржмрж╛ржВрж▓рж╛рзЯ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг (R1):</h3>
    <table border="1" cellpadding="8" cellspacing="0">
        <thead>
            <tr>
                <th>Network (ржирзЗржЯржУрзЯрж╛рж░рзНржХ)</th>
                <th>Next Hop (ржкрж░ржмрж░рзНрждрзА рж╣ржк)</th>
                <th>Metric</th>
                <th>LocPrf</th>
                <th>Weight</th>
                <th>AS Path (ржкрже)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>10.12.1.0/24</td>
                <td>10.12.1.2</td>
                <td>0</td>
                <td>-</td>
                <td>0</td>
                <td>65200 i</td>
            </tr>
            <tr>
                <td><b>10.12.1.0/24 (Best)</b></td>
                <td>0.0.0.0</td>
                <td>0</td>
                <td>-</td>
                <td>32768</td>
                <td>i</td>
            </tr>
            <tr>
                <td>192.168.1.1/32</td>
                <td>0.0.0.0</td>
                <td>0</td>
                <td>-</td>
                <td>32768</td>
                <td>i</td>
            </tr>
            <tr>
                <td>192.168.2.2/32</td>
                <td>10.12.1.2</td>
                <td>0</td>
                <td>-</td>
                <td>0</td>
                <td>65200 i</td>
            </tr>
        </tbody>
    </table>
    
    <h3>ЁЯУЭ ржмрж╛ржВрж▓рж╛рзЯ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг (R2):</h3>
    
    <h3>ЁЯУЛ ржХржорж╛ржирзНржб ржУ ржЖржЙржЯржкрзБржЯ:</h3>
    <pre>
    R2# show bgp ipv4 unicast | begin Network
    Network          Next Hop            Metric LocPrf Weight Path
    *   10.12.1.0/24     10.12.1.1                0             0 65100 i
    *>                   0.0.0.0                  0         32768 i
    *>  192.168.1.1/32   10.12.1.1                0             0 65100 i
    *>  192.168.2.2/32   0.0.0.0                  0         32768 i
    </pre>
    
    <table border="1" cellpadding="8" cellspacing="0">
        <thead>
            <tr>
                <th>Network (ржирзЗржЯржУрзЯрж╛рж░рзНржХ)</th>
                <th>Next Hop (ржкрж░ржмрж░рзНрждрзА рж╣ржк)</th>
                <th>Metric</th>
                <th>LocPrf</th>
                <th>Weight</th>
                <th>AS Path (ржкрже)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>10.12.1.0/24</td>
                <td>10.12.1.1</td>
                <td>0</td>
                <td>-</td>
                <td>0</td>
                <td>65100 i</td>
            </tr>
            <tr>
                <td><b>10.12.1.0/24 (Best)</b></td>
                <td>0.0.0.0</td>
                <td>0</td>
                <td>-</td>
                <td>32768</td>
                <td>i</td>
            </tr>
            <tr>
                <td>192.168.1.1/32</td>
                <td>10.12.1.1</td>
                <td>0</td>
                <td>-</td>
                <td>0</td>
                <td>65100 i</td>
            </tr>
            <tr>
                <td>192.168.2.2/32</td>
                <td>0.0.0.0</td>
                <td>0</td>
                <td>-</td>
                <td>32768</td>
                <td>i</td>
            </tr>
        </tbody>
    </table>
    
    <h3>ЁЯУК ржорзВрж▓ ржмрж┐рж╖рзЯржЧрзБрж▓рзЛ рж╕ржВржХрзНрж╖рзЗржкрзЗ:</h3>
    <ul>
        <li>тЬЕ BGP ржЯрзЗржмрж┐рж▓ ржорж╛ржирзЗ Loc-RIB ржпрзЗржЦрж╛ржирзЗ рж░рж╛ржЙржЯрж╛рж░ рж╢рзЗржЦрж╛ ржУ ржирж┐ржЬрзЗрж░ рждрзИрж░рж┐ рж░рзБржЯ ржЬржорж╛ рж░рж╛ржЦрзЗред</li>
        <li>тЬЕ ржкрзНрж░рждрж┐ржЯрж╛ рж░рзБржЯрзЗрж░ ржЬржирзНржп Next Hop, Metric, Weight, AS Path ржерж╛ржХрзЗред</li>
        <li>тЬЕ рж╕рзЗрж░рж╛ рж░рзБржЯ ржЪрж┐рж╣рзНржирж┐ржд рж╣рзЯ *> ржжрж┐рзЯрзЗ, ржпрзЗржЯрж╛ IP рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗржУ ржпрзБржХрзНржд рж╣рзЯред</li>
        <li>тЬЕ рж░рзБржЯ ржХрзЛржерж╛ ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗ ржмрзБржЭрждрзЗ AS Path ржжрзЗржЦрж╛ рж╣рзЯред</li>
        <li>тЬЕ Weight ржжрзЗржЦрзЗ ржирж┐ржЬрзЗрж░ рждрзИрж░рж┐ ржирж╛ржХрж┐ рж╢рзЗржЦрж╛ рж░рзБржЯ рждрж╛ ржмрзЛржЭрж╛ ржпрж╛рзЯ (32768 ржорж╛ржирзЗ ржирж┐ржЬрзЗрж░ рждрзИрж░рж┐)ред</li>
    </ul>
    


<h1>ЁЯМР BGP ржЯрзЗржмрж┐рж▓ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг (ржмрж╛ржВрж▓рж╛рзЯ)</h1>

<h2>ЁЯУб рж░рж╛ржЙржЯрж╛рж░ R1 ржПрж░ BGP ржЯрзЗржмрж┐рж▓</h2>
<table border="1" cellpadding="8" cellspacing="0">
    <thead>
        <tr>
            <th>Network (ржирзЗржЯржУрзЯрж╛рж░рзНржХ)</th>
            <th>Next Hop (ржкрж░ржмрж░рзНрждрзА рж╣ржк)</th>
            <th>Metric</th>
            <th>LocPrf</th>
            <th>Weight</th>
            <th>AS Path (рж░рзБржЯрзЗрж░ ржкрже)</th>
            <th>ржмрзЗрж╕рзНржЯ рж░рзБржЯ?</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>10.12.1.0/24</td>
            <td>10.12.1.2</td>
            <td>0</td>
            <td>-</td>
            <td>0</td>
            <td>65200 i</td>
            <td>ржирж╛</td>
        </tr>
        <tr>
            <td>10.12.1.0/24</td>
            <td>0.0.0.0</td>
            <td>0</td>
            <td>-</td>
            <td>32768</td>
            <td>i</td>
            <td>тЬФя╕П (рж╣рзНржпрж╛ржБ)</td>
        </tr>
        <tr>
            <td>192.168.1.1/32</td>
            <td>0.0.0.0</td>
            <td>0</td>
            <td>-</td>
            <td>32768</td>
            <td>i</td>
            <td>тЬФя╕П (рж╣рзНржпрж╛ржБ)</td>
        </tr>
        <tr>
            <td>192.168.2.2/32</td>
            <td>10.12.1.2</td>
            <td>0</td>
            <td>-</td>
            <td>0</td>
            <td>65200 i</td>
            <td>тЬФя╕П (рж╣рзНржпрж╛ржБ)</td>
        </tr>
    </tbody>
</table>

<h2>ЁЯУб рж░рж╛ржЙржЯрж╛рж░ R2 ржПрж░ BGP ржЯрзЗржмрж┐рж▓</h2>
<table border="1" cellpadding="8" cellspacing="0">
    <thead>
        <tr>
            <th>Network (ржирзЗржЯржУрзЯрж╛рж░рзНржХ)</th>
            <th>Next Hop (ржкрж░ржмрж░рзНрждрзА рж╣ржк)</th>
            <th>Metric</th>
            <th>LocPrf</th>
            <th>Weight</th>
            <th>AS Path (рж░рзБржЯрзЗрж░ ржкрже)</th>
            <th>ржмрзЗрж╕рзНржЯ рж░рзБржЯ?</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>10.12.1.0/24</td>
            <td>10.12.1.1</td>
            <td>0</td>
            <td>-</td>
            <td>0</td>
            <td>65100 i</td>
            <td>ржирж╛</td>
        </tr>
        <tr>
            <td>10.12.1.0/24</td>
            <td>0.0.0.0</td>
            <td>0</td>
            <td>-</td>
            <td>32768</td>
            <td>i</td>
            <td>тЬФя╕П (рж╣рзНржпрж╛ржБ)</td>
        </tr>
        <tr>
            <td>192.168.1.1/32</td>
            <td>10.12.1.1</td>
            <td>0</td>
            <td>-</td>
            <td>0</td>
            <td>65100 i</td>
            <td>тЬФя╕П (рж╣рзНржпрж╛ржБ)</td>
        </tr>
        <tr>
            <td>192.168.2.2/32</td>
            <td>0.0.0.0</td>
            <td>0</td>
            <td>-</td>
            <td>32768</td>
            <td>i</td>
            <td>тЬФя╕П (рж╣рзНржпрж╛ржБ)</td>
        </tr>
    </tbody>
</table>

<h3>ЁЯУМ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп:</h3>
<ul>
    <li><strong>Weight 32768</strong> ржорж╛ржирзЗ ржирж┐ржЬрж╕рзНржм рждрзИрж░рж┐ (local) рж░рзБржЯ, рж╕рж╛ржзрж╛рж░ржгржд ржмрзЗрж╕рзНржЯ рж╣рзЯред</li>
    <li><strong>AS Path</strong> ржжрж┐рзЯрзЗ ржмрзЛржЭрж╛ ржпрж╛рзЯ рж░рзБржЯ ржХрзЛржерж╛ ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗред</li>
    <li><strong>Next Hop</strong> ржжрзЗржЦрзЗ ржЬрж╛ржирж╛ ржпрж╛рзЯ ржХрзЛржи IP-рждрзЗ рж░рзБржЯ ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗред</li>
    <li><strong>тЬФя╕П</strong> ржЪрж┐рж╣рзНржирж┐ржд рж░рзБржЯржЗ рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗ ржпрж╛ржмрзЗред</li>
</ul>



<h1>ЁЯУК Table 11-4: BGP Table Fields (ржмрж╛ржВрж▓рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛)</h1>

<table border="1" cellpadding="8" cellspacing="0">
    <thead>
        <tr>
            <th>Field (ржШрж░)</th>
            <th>Description (ржмрзНржпрж╛ржЦрзНржпрж╛)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><b>Network</b></td>
            <td>
                ржирзЗржЯржУрзЯрж╛рж░рзНржХ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕рзЗрж░ рждрж╛рж▓рж┐ржХрж╛, ржпрзЗржЧрзБрж▓рзЛ BGP ржЯрзЗржмрж┐рж▓рзЗ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред 
                ржПржХржЗ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕рзЗрж░ ржЬржирзНржп ржПржХрж╛ржзрж┐ржХ NLRI (Network Layer Reachability Information) ржерж╛ржХрж▓рзЗ ржкрзНрж░ржержоржЯрж┐ржХрзЗ ржжрзЗржЦрж╛ржирзЛ рж╣рзЯ, ржмрж╛ржХрж┐ржЧрзБрж▓рзЛ ржлрж╛ржБржХрж╛ ржерж╛ржХрзЗред 
                <b>*</b> ржжрж┐рзЯрзЗ Valid (ржмрзИржз) рж░рзБржЯ ржжрзЗржЦрж╛рзЯ ржПржмржВ <b>></b> ржЪрж┐рж╣рзНржи рж╕рзЗрж░рж╛ (Best) ржкрже ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗред
            </td>
        </tr>
        <tr>
            <td><b>Next Hop</b></td>
            <td>
                ржкрж░ржмрж░рзНрждрзА рж╣ржкрзЗрж░ (Next Hop) IP ржарж┐ржХрж╛ржирж╛, ржпрзЗржЯрж╛ ржР ржирж┐рж░рзНржжрж┐рж╖рзНржЯ NLRI-рж░ ржЬржирзНржп ржмрзНржпржмрж╣рж╛рж░ рж╣ржмрзЗред 
                ржПржЯрж┐ ржПржХржЯрж┐ <b>Well-known Mandatory</b> BGP Attributeред
            </td>
        </tr>
        <tr>
            <td><b>Metric (MED)</b></td>
            <td>
                <b>Multiple Exit Discriminator (MED)</b>: ржР ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рзБржЯрзЗрж░ ржЬржирзНржп ржРржЪрзНржЫрж┐ржХ (Optional), 
                Non-Transitive BGP Path Attribute, ржпрж╛ ржмрж┐ржнрж┐ржирзНржи AS ржерзЗржХрзЗ ржЖрж╕рж╛ рж░рзБржЯрзЗрж░ ржоржзрзНржпрзЗ ржкржЫржирзНржжрзЗрж░ ржкрже ржирж┐рж░рзНржзрж╛рж░ржгрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред
            </td>
        </tr>
        <tr>
            <td><b>LocPrf (Local Preference)</b></td>
            <td>
                <b>Local Preference</b>: BGP Best Path ржирж┐рж░рзНржмрж╛ржЪржирзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд ржПржХржЯрж┐ Well-known Discretionary Attributeред 
                ржПржЯрж┐ рж░рж╛ржЙржЯрж╛рж░ ржирж┐ржЬрж╕рзНржм AS-ржПрж░ ржоржзрзНржпрзЗ рж░рзБржЯ ржкржЫржирзНржжрзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣рзЯред
            </td>
        </tr>
        <tr>
            <td><b>Weight</b></td>
            <td>
                <b>Weight</b>: рж╢рзБржзрзБржорж╛рждрзНрж░ Cisco рж░рж╛ржЙржЯрж╛рж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ Attributeред 
                ржПржЯрж┐ Locally Significant ржорж╛ржирзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржирж┐ржЬрзЗрж░ рж░рж╛ржЙржЯрж╛рж░рзЗрж░ ржоржзрзНржпрзЗ ржкрзНрж░ржпрзЛржЬрзНржпред 
                BGP Best Path ржирж┐рж░рзНржмрж╛ржЪржирзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣рзЯред
            </td>
        </tr>
        <tr>
            <td><b>Path and Origin</b></td>
            <td>
                <b>AS_Path</b>: рж░рзБржЯ ржХрзЛржи ржХрзЛржи AS рж╣рзЯрзЗ ржПрж╕рзЗржЫрзЗ, рждрж╛рж░ рждрж╛рж▓рж┐ржХрж╛ред ржПржЯрж┐ ржПржХржЯрж┐ Well-known Mandatory Attributeред 
                рж░рзБржЯ рж▓рзБржк (Loop) ржкрзНрж░рждрж┐рж░рзЛржз ржУ Best Path ржирж┐рж░рзНржмрж╛ржЪржирзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред<br><br>
                <b>Origin</b>: рж░рзБржЯрзЗрж░ ржЙрзОрж╕рзЗрж░ ржзрж░ржгред ржПржЯрж┐ рждрж┐ржиржнрж╛ржмрзЗ ржжрзЗржЦрж╛рзЯ:
                <ul>
                    <li><b>i</b>: IGP (Interior Gateway Protocol) ржерзЗржХрзЗ ржЖрж╕рж╛ред</li>
                    <li><b>e</b>: EGP (Exterior Gateway Protocol) ржерзЗржХрзЗ ржЖрж╕рж╛ред</li>
                    <li><b>?</b>: ржЕржирзНржп ржкрзНрж░рзЛржЯрзЛржХрж▓ ржерзЗржХрзЗ BGP рждрзЗ рж░рж┐ржбрж┐рж╕рзНржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>

<h3>ЁЯУЪ рж╕ржВржХрзНрж╖рзЗржкрзЗ:</h3>
<ul>
    <li>тЬЕ <b>Network</b>: ржХрзЛржи ржХрзЛржи ржирзЗржЯржУрзЯрж╛рж░рзНржХ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ ржЗржирж╕рзНржЯрж▓ рж╣рзЯрзЗржЫрзЗред</li>
    <li>тЬЕ <b>Next Hop</b>: ржкрж░ржмрж░рзНрждрзА ржЧржирзНрждржмрзНржп IPред</li>
    <li>тЬЕ <b>Metric (MED)</b>: ржПржХрж╛ржзрж┐ржХ ржкрзНрж░ржмрзЗрж╢ ржкрже ржерж╛ржХрж▓рзЗ ржХрзЛржиржЯрж╛ ржмрзЗржЫрзЗ ржирзЗржмрзЗред</li>
    <li>тЬЕ <b>Local Preference (LocPrf)</b>: ржирж┐ржЬрзЗрж░ AS-ржП ржХрзЛржи рж░рзБржЯ ржмрзЗрж╢рж┐ ржкржЫржирзНржжрзЗрж░ред</li>
    <li>тЬЕ <b>Weight</b>: ржирж┐ржЬрзЗрж░ рждрзИрж░рж┐ ржУ рж╢рзЗржЦрж╛ рж░рзБржЯ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛рж░ ржЬржирзНржп ржУржЬржиред</li>
    <li>тЬЕ <b>AS Path & Origin</b>: рж░рзБржЯ ржХрзЛржерж╛ ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗ ржПржмржВ рж▓рзБржк ржкрзНрж░рждрж┐рж░рзЛржзред</li>
</ul>



    <h1>ржЕржзрж┐ржХрзГржд BGP ржкрже ржПржмржВ ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржкрзНрж░ржжрж░рзНрж╢ржи</h1>
    <p>
        <code>show bgp afi safi network</code> ржХржорж╛ржирзНржбржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ рж░рзБржЯрзЗрж░ ржЬржирзНржп рж╕ржорж╕рзНржд ржкрже ржПржмржВ рж╕рзЗржЗ рж░рзБржЯрзЗрж░ BGP ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЧрзБрж▓рж┐ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзЗред ржЙржжрж╛рж╣рж░ржг рззрзз-рзн рждрзЗ 10.12.1.0/24 ржирзЗржЯржУрзЯрж╛рж░рзНржХрзЗрж░ ржЬржирзНржп ржкржержЧрзБрж▓рзЛ ржкрзНрж░ржжрж░рзНрж╢рж┐ржд рж╣рзЯрзЗржЫрзЗред ржЖржЙржЯржкрзБржЯрзЗ ржкржержЧрзБрж▓рзЛрж░ рж╕ржВржЦрзНржпрж╛ ржПржмржВ ржХрзЛржи ржкржержЯрж┐ рж╕рзЗрж░рж╛ ржкрже рждрж╛ ржжрзЗржЦрж╛ ржпрж╛рзЯред
    </p>
    
    <h2>ржЙржжрж╛рж╣рж░ржг рззрзз-рзн: рж╕рзНржкрж╖рзНржЯ BGP рж░рзБржЯ ржПржмржВ ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржжрзЗржЦрж╛ржирзЛ</h2>
    <pre>
R1# show bgp ipv4 unicast 10.12.1.0
BGP routing table entry for 10.12.1.0/24, version 2
Paths: (2 available, best #2, table default)
Advertised to update-groups:
2
Refresh Epoch 1
65200
10.12.1.2 from 10.12.1.2 (192.168.2.2)
Origin IGP, metric 0, localpref 100, valid, external
rx pathid: 0, tx pathid: 0
Refresh Epoch 1
Local
0.0.0.0 from 0.0.0.0 (192.168.1.1)
Origin IGP, metric 0, localpref 100, weight 32768, valid, sourced, local, best
rx pathid: 0, tx pathid: 0x0
    </pre>
    
    <p><strong>ржирзЛржЯ:</strong> <code>show bgp afi safi detail</code> ржХржорж╛ржирзНржбржЯрж┐ ржкрзБрж░рзЛ BGP ржЯрзЗржмрж┐рж▓ржЯрж┐ ржПржмржВ рж╕ржорж╕рзНржд ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзЗ, ржпрзЗржоржи ржЙржжрж╛рж╣рж░ржг рззрзз-рзн-ржП ржжрзЗржЦрж╛ржирзЛ рж╣рзЯрзЗржЫрзЗред</p>

    <h2>Adj-RIB-Out ржЯрзЗржмрж┐рж▓</h2>
    <p>
        ржПржЗ ржЯрзЗржмрж┐рж▓ржЯрж┐ ржкрзНрж░рждрж┐ржЯрж┐ BGP ржкрж┐рзЯрж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржЗржЙржирж┐ржХ ржЯрзЗржмрж┐рж▓, ржпрж╛ ржирзЗржЯржУрзЯрж╛рж░рзНржХ ржЗржЮрзНржЬрж┐ржирж┐рзЯрж╛рж░ржжрзЗрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рж╛ржЙржЯрж╛рж░ржХрзЗ ржпрзЗ рж░рзБржЯржЧрзБрж▓рзЛ ржмрж┐ржЬрзНржЮржкрзНрждрж┐ рж╣рж┐рж╕рзЗржмрзЗ ржкрж╛ржарж╛ржирзЛ рж╣рзЯрзЗржЫрзЗ рждрж╛ ржжрзЗржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред <code>show bgp afi safi neighbor ip-address advertised-routes</code> ржХржорж╛ржирзНржбржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ ржкрж┐рзЯрж╛рж░рзЗрж░ Adj-RIB-Out ржЯрзЗржмрж┐рж▓рзЗрж░ ржмрж┐рж╖рзЯржмрж╕рзНрждрзБ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзЗред
    </p>
    
    <h2>ржЙржжрж╛рж╣рж░ржг рззрзз-рзо: ржкрж┐рзЯрж╛рж░-ржирж┐рж░рзНржжрж┐рж╖рзНржЯ Adj-RIB-Out ржЯрзЗржмрж┐рж▓ ржжрзЗржЦрж╛ржирзЛ</h2>
    <pre>
R1# show bgp ipv4 unicast neighbors 10.12.1.2 advertised-routes
! Output omitted for brevity
Network          Next Hop            Metric LocPrf Weight Path
*> 10.12.1.0/24     0.0.0.0                  0         32768 i
*> 192.168.1.1/32   0.0.0.0                  0         32768 i
Total number of prefixes 2
    </pre>
    
    <h2>BGP рж╕рж╛рж░рж╛ржВрж╢</h2>
    <p>
        <code>show bgp ipv4 unicast summary</code> ржХржорж╛ржирзНржбржЯрж┐ NLRIs (Network Layer Reachability Information) ржПрж░ ржЖржжрж╛ржи-ржкрзНрж░ржжрж╛ржи ржпрж╛ржЪрж╛ржЗ ржХрж░рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред
    </p>
    
    <h2>ржЙржжрж╛рж╣рж░ржг рззрзз-рзп: BGP рж╕рж╛рж░рж╛ржВрж╢рзЗ Prefixes ржПрж░ ржЖржжрж╛ржи-ржкрзНрж░ржжрж╛ржи</h2>
    <pre>
R1# show bgp ipv4 unicast summary
! Output omitted for brevity
Neighbor        V           AS MsgRcvd MsgSent   TblVer  InQ OutQ Up/Down  State/
PfxRcd
10.12.1.2       4        65200      11      10        9    0    0 00:04:56        2
    </pre>
    
    <h2>BGP рж░рзБржЯржЧрзБрж▓рзЛ ржкрзНрж░ржжрж░рзНрж╢ржи</h2>
    <p>
        ржЧрзНрж▓рзЛржмрж╛рж▓ IP рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗрж░ BGP рж░рзБржЯржЧрзБрж▓рж┐ ржжрзЗржЦрждрзЗ <code>show ip route bgp</code> ржХржорж╛ржирзНржбржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред ржЙржжрж╛рж╣рж░ржг рззрзз-рззрзж рждрзЗ ржжрзЗржЦрж╛ржирзЛ рж╣рзЯрзЗржЫрзЗ, ржпрзЗржЦрж╛ржирзЗ eBGP рж╕рзЗрж╢ржирзЗрж░ prefixes AD 20 рждрзЗ ржерж╛ржХрзЗ ржПржмржВ ржХрзЛржиржУ ржорзЗржЯрзНрж░рж┐ржХ ржирзЗржЗред
    </p>
    
    <h2>ржЙржжрж╛рж╣рж░ржг рззрзз-рззрзж: IP рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗ BGP рж░рзБржЯ ржкрзНрж░ржжрж░рзНрж╢ржи</h2>
    <pre>
R1# show ip route bgp | begin Gateway
Gateway of last resort is not set
192.168.2.0/32 is subnetted, 1 subnets
B        192.168.2.2 [20/0] via 10.12.1.2, 00:06:12
    </pre>


        <h1>BGP рж░рзБржЯ ржмрж┐ржЬрзНржЮржкрзНрждрж┐ (Route Advertisements) ржкрж░рзЛржХрзНрж╖ ржЙрзОрж╕ (Indirect Sources) ржерзЗржХрзЗ</h1>
    
        <p>ржЖржЧрзЗржЗ ржЙрж▓рзНрж▓рзЗржЦ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, BGP-ржХрзЗ ржПржХржЯрж┐ <strong>рж░рж╛ржЙржЯрж┐ржВ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи</strong> (routing application) рж╣рж┐рж╕рзЗржмрзЗ ржнрж╛ржмрж╛ ржЙржЪрж┐ржд, ржХрж╛рж░ржг <strong>BGP рж╕рзЗрж╢ржи</strong> (BGP session) ржПржмржВ <strong>рж░рзБржЯ ржмрж┐ржЬрзНржЮржкрзНрждрж┐</strong> (route advertisement) ржжрзБржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржмрж┐рж╖рзЯред</p>
    
        <p><strong>Figure 11-10</strong>-ржП ржПржоржи ржПржХржЯрж┐ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржЯржкрзЛрж▓ржЬрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ ржпрзЗржЦрж╛ржирзЗ <strong>R1 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐</strong> ржмрж┐ржнрж┐ржирзНржиржнрж╛ржмрзЗ (static route, EIGRP, OSPF) рж╢рзЗржЦрж╛ (learned) рж╣ржУржпрж╝рж╛ ржЕржирзЗржХржЧрзБрж▓рзЛ рж░рзБржЯ ржЗржирж╕рзНржЯрж▓ (install) ржХрж░рзЗред R1 ржПржЗ рж░рзБржЯржЧрзБрж▓рзЛ <strong>R2-ржХрзЗ ржмрж┐ржЬрзНржЮрж╛ржкржи (advertise)</strong> ржХрж░рждрзЗ ржкрж╛рж░рзЗред</p>
    
        <h3>ржЯржкрзЛрж▓ржЬрж┐рж░ ржмрж░рзНржгржирж╛:</h3>
        <ul>
            <li>R3, R4, R5 ржПрж░ Loopback IP ржЧрзБрж▓рзЛ ржпржерж╛ржХрзНрж░ржорзЗ:
                <ul>
                    <li>R3: 192.168.3.3</li>
                    <li>R4: 192.168.4.4</li>
                    <li>R5: 192.168.5.5</li>
                </ul>
            </li>
            <li>R1 ржУ R2 ржжрзБржЗржЯрж┐ ржЖрж▓рж╛ржжрж╛ AS (Autonomous System):
                <ul>
                    <li>R1: AS 65100</li>
                    <li>R2: AS 65200</li>
                </ul>
            </li>
            <li>ржмрж┐ржнрж┐ржирзНржи ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж╕ржВржпрзЛржЧ:
                <ul>
                    <li>10.12.1.0/24</li>
                    <li>10.13.1.0/24</li>
                    <li>10.14.1.0/24</li>
                    <li>10.15.1.0/24</li>
                </ul>
            </li>
            <li>EIGRP ржПржмржВ OSPF ржмрзНржпржмрж╣рзГржд рж╣ржЪрзНржЫрзЗ ржХрж┐ржЫрзБ рж▓рж┐ржВржХрзЗред</li>
        </ul>
    
        <p><strong>Example 11-11</strong>-ржП <strong>R1 рж░рж╛ржЙржЯрж╛рж░рзЗрж░ рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓</strong> (Routing Table) ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗред ржПржЦрж╛ржирзЗ ржжрзЗржЦрж╛ ржпрж╛ржпрж╝ ржпрзЗ:</p>
        <ul>
            <li>R3 ржПрж░ loopback (192.168.3.3) <strong>EIGRP</strong> ржжрзНржмрж╛рж░рж╛ рж╢рзЗржЦрж╛ рж╣ржпрж╝рзЗржЫрзЗред</li>
            <li>R4 ржПрж░ loopback (192.168.4.4) <strong>static route</strong> рж╣рж┐рж╕рзЗржмрзЗ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝рзЗржЫрзЗред</li>
            <li>R5 ржПрж░ loopback (192.168.5.5) <strong>OSPF</strong> ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╢рзЗржЦрж╛ рж╣ржпрж╝рзЗржЫрзЗред</li>
        </ul>
    
        <h3>ржЙржжрж╛рж╣рж░ржг (Routing Table):</h3>
        <pre>
    R1# show ip route
    ! рж╕ржВржХрзНрж╖рзЗржкрж┐ржд ржЖржЙржЯржкрзБржЯ
    Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
    D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
    ..
    Gateway of last resort is not set
    10.0.0.0/8 is variably subnetted, 8 subnets, 2 masks
    C 10.12.1.0/24 is directly connected, GigabitEthernet0/0
    C 10.13.1.0/24 is directly connected, GigabitEthernet0/1
    C 10.14.1.0/24 is directly connected, GigabitEthernet0/2
    C 10.15.1.0/24 is directly connected, GigabitEthernet0/3
    C 192.168.1.1 is directly connected, Loopback0
    B 192.168.2.2 [20/0] via 10.12.1.2, 00:01:17
    D 192.168.3.3 [90/3584] via 10.13.1.3, 00:02:10, GigabitEthernet0/1
    S 192.168.4.4 [1/0] via 10.14.1.4
    O 192.168.5.5 [110/11] via 10.15.1.5, 00:00:08, GigabitEthernet0/3
        </pre>
    
        <h3>ржмрзНржпрж╛ржЦрзНржпрж╛:</h3>
        <ul>
            <li><strong>C</strong> (Connected): рж╕рж░рж╛рж╕рж░рж┐ рж╕ржВржпрзБржХрзНржд ржирзЗржЯржУржпрж╝рж╛рж░рзНржХред</li>
            <li><strong>B</strong> (BGP): BGP ржжрзНржмрж╛рж░рж╛ рж╢рзЗржЦрж╛ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХред</li>
            <li><strong>D</strong> (EIGRP): EIGRP ржжрзНржмрж╛рж░рж╛ рж╢рзЗржЦрж╛ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХред</li>
            <li><strong>S</strong> (Static): Static Routeред</li>
            <li><strong>O</strong> (OSPF): OSPF ржжрзНржмрж╛рж░рж╛ рж╢рзЗржЦрж╛ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХред</li>
        </ul>
    
        <p><strong>Example 11-12</strong>-рждрзЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ ржХрж┐ржнрж╛ржмрзЗ R3 ржУ R4 ржПрж░ loopback IP ржЧрзБрж▓рзЛ <strong>network statement</strong> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ BGP-рждрзЗ ржпрзБржХрзНржд ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред</p>
    
        <p>рждржмрзЗ, ржкрзНрж░рждрж┐ржЯрж┐ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржЙрж▓рзНрж▓рзЗржЦ ржХрж░рж╛ <strong>ржЭрж╛ржорзЗрж▓рж╛ржкрзВрж░рзНржг (tedious)</strong> рж╣рждрзЗ ржкрж╛рж░рзЗред</p>
    
        <p>ржЕржкрж░ржжрж┐ржХрзЗ, <strong>R5 ржПрж░ loopback</strong> OSPF ржерзЗржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ <strong>BGP-рждрзЗ redistributing</strong> ржХрж░рзЗ ржпрзБржХрзНржд ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред</p>
    
        <h3>рж╕рж╛рж░рж╛ржВрж╢:</h3>
        <ul>
            <li>R1 ржмрж┐ржнрж┐ржирзНржи рж╕рзЛрж░рзНрж╕ (static, EIGRP, OSPF) ржерзЗржХрзЗ рж░рзБржЯ рж╢рж┐ржЦрзЗ BGP-рждрзЗ advertise ржХрж░рзЗред</li>
            <li>Routing table-ржП рж╕рзНржкрж╖рзНржЯ ржжрзЗржЦрж╛ ржпрж╛ржпрж╝ ржХрзЛржи рж░рзБржЯ ржХрзЛржи ржкрзНрж░рзЛржЯрзЛржХрж▓ ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗред</li>
            <li>BGP-рждрзЗ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ advertise ржХрж░рж╛рж░ ржЬржирзНржп ржХржЦржирзЛ рж╕рж░рж╛рж╕рж░рж┐ <code>network</code> ржХржорж╛ржирзНржб, ржХржЦржирзЛ redistributing ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред</li>
        </ul>

          <h2>ржЙржжрж╛рж╣рж░ржг рззрзз-рззрзи: рж╕ржВржпрзЛржЧржмрж┐рж╣рзАржи (Non-Connected) рж░рзБржЯржЧрзБрж▓рзЛ BGP-рждрзЗ ржмрж┐ржЬрзНржЮрж╛ржкржи ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи</h2>
        
          <h3>ЁЯФ╣ R1 рж░рж╛ржЙржЯрж╛рж░рзЗрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h3>
          <pre>
        router bgp 65100
         bgp log-neighbor-changes
         network 10.12.1.0 mask 255.255.255.0
         network 192.168.1.1 mask 255.255.255.255
         network 192.168.3.3 mask 255.255.255.255
         network 192.168.4.4 mask 255.255.255.255
         redistribute ospf 1
         neighbor 10.12.1.2 remote-as 65200
          </pre>
        
          <h3>ЁЯФ╕ ржмрзНржпрж╛ржЦрзНржпрж╛:</h3>
          <ul>
            <li><b>router bgp 65100:</b> R1 ржПрж░ AS ржиржорзНржмрж░ 65100 ржжрж┐рзЯрзЗ BGP ржЪрж╛рж▓рзБ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред</li>
            <li><b>bgp log-neighbor-changes:</b> ржкрзНрж░рждрж┐ржмрзЗрж╢рзАрж░ (neighbor) ржЕржмрж╕рзНржерж╛ ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ рждрж╛ рж▓ржЧ рж╣ржмрзЗред</li>
            <li><b>network:</b> ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржирзЗржЯржУрзЯрж╛рж░рзНржХржЧрзБрж▓рзЛ BGP-рждрзЗ ржмрж┐ржЬрзНржЮрж╛ржкржи (advertise) ржХрж░рж╛ рж╣ржмрзЗред</li>
            <li><b>redistribute ospf 1:</b> OSPF ржерзЗржХрзЗ рж╢рзЗржЦрж╛ рж░рзБржЯржЧрзБрж▓рзЛ BGP-рждрзЗ ржЖржирж╛ рж╣ржмрзЗред</li>
            <li><b>neighbor 10.12.1.2 remote-as 65200:</b> ржкрзНрж░рждрж┐ржмрзЗрж╢рзА рж░рж╛ржЙржЯрж╛рж░ ржпрж╛рж░ AS 65200ред</li>
          </ul>
        
          <h3>тЪая╕П ржоржирзНрждржмрзНржп:</h3>
          <p>IGP ржерзЗржХрзЗ рж╢рзЗржЦрж╛ рж░рзБржЯржЧрзБрж▓рзЛ BGP-рждрзЗ ржЖржирж╛ ржирж┐рж░рж╛ржкржжред рждржмрзЗ BGP ржерзЗржХрзЗ рж╢рзЗржЦрж╛ рж░рзБржЯ IGP-рждрзЗ ржЖржирж╛ ржЭрзБржБржХрж┐ржкрзВрж░рзНржгред ржХрж╛рж░ржг, BGP ржмрзЬ ржЗржирзНржЯрж╛рж░ржирзЗржЯ рж▓рзЗржнрзЗрж▓рзЗрж░ рж░рж╛ржЙржЯрж┐ржВ рж╕рж╛ржорж▓рж╛рждрзЗ ржкрж╛рж░рзЗ, ржпрзЗржЦрж╛ржирзЗ IGP рж╕рзАржорж┐ржд рж░рзБржЯ ржирж┐рждрзЗ ржкрж╛рж░рзЗред</p>
        
          <h2>ржЙржжрж╛рж╣рж░ржг рззрзз-рззрзй: R1 ржПржмржВ R2 ржПрж░ BGP рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓</h2>
        
          <h3>ЁЯФ╖ R1 ржПрж░ BGP ржЯрзЗржмрж┐рж▓:</h3>
          <pre>
        R1# show bgp ipv4 unicast
        Network          Next Hop            Metric LocPrf Weight Path
        *> 10.12.1.0/24     0.0.0.0                  0         32768 i
        *  10.12.1.2                0             0 65200 i
        *> 10.15.1.0/24     0.0.0.0                  0         32768 ?
        *> 192.168.1.1/32   0.0.0.0                  0         32768 i
        *> 192.168.2.2/32   10.12.1.2                0             0 65200 i
        *> 192.168.3.3/32   10.13.1.3             3584         32768 i
        *> 192.168.4.4/32   10.14.1.4                0         32768 i
        *> 192.168.5.5/32   10.15.1.5               11         32768 ?
          </pre>
        
          <h3>ЁЯФ╕ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг:</h3>
          <ul>
            <li><b>192.168.3.3/32:</b> EIGRP ржерзЗржХрзЗ рж╢рзЗржЦрж╛, IGP (i) originред</li>
            <li><b>192.168.4.4/32:</b> Static route, IGP (i)ред</li>
            <li><b>192.168.5.5/32:</b> OSPF ржерзЗржХрзЗ Redistribute ржХрж░рж╛, рждрж╛ржЗ incomplete (?)ред</li>
            <li>IGP ржерзЗржХрзЗ ржЖрж╕рж╛ ржорзЗржЯрзНрж░рж┐ржХ (Metric) MED рж╣рж┐рж╕рзЗржмрзЗ ржжрзЗржЦрж╛ ржпрж╛рзЯред</li>
          </ul>
        
          <h3>ЁЯФ╖ R2 ржПрж░ BGP ржЯрзЗржмрж┐рж▓:</h3>
          <pre>
        R2# show bgp ipv4 unicast | begin Network
        Network          Next Hop Metric LocPrf Weight Path
        * 10.12.1.0/24     10.12.1.1 0 0 65100 i
        *> 0.0.0.0 0 32768 i
        *> 10.15.1.0/24     10.12.1.1 0 0 65100 ?
        *> 192.168.1.1/32   10.12.1.1 0 0 65100 i
        *> 192.168.2.2/32   0.0.0.0 0 32768 i
        *> 192.168.3.3/32   10.12.1.1 3584 0 65100 i
        *> 192.168.4.4/32   10.12.1.1 0 0 65100 i
        *> 192.168.5.5/32   10.12.1.1 11 0 65100 ?
          </pre>
        
          <h3>ЁЯФ╕ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг:</h3>
          <ul>
            <li>R2 рж╕ржм рж░рзБржЯржЧрзБрж▓рзЛ eBGP ржжрзНржмрж╛рж░рж╛ R1 ржерзЗржХрзЗ ржкрзЗрзЯрзЗржЫрзЗред</li>
            <li>рж╕ржм рж░рзБржЯрзЗрж░ рж╢рзЗрж╖рзЗ 65100 AS ржирж╛ржорзНржмрж╛рж░ ржЖржЫрзЗред</li>
            <li><b>192.168.3.3/32:</b> ржорзЗржЯрзНрж░рж┐ржХ 3584, ржорж╛ржирзЗ R3 ржерзЗржХрзЗ ржЖрж╕рж╛ ржорзЗржЯрзНрж░рж┐ржХред</li>
            <li><b>192.168.5.5/32:</b> OSPF ржерзЗржХрзЗ ржЖрж╕рж╛, incomplete (?)ред</li>
          </ul>
        
          <h2>тЬЕ ржорзВрж▓ ржкржпрж╝рзЗржирзНржЯ:</h2>
          <ul>
            <li>R1 ржмрж┐ржнрж┐ржирзНржи ржкрзНрж░рзЛржЯрзЛржХрж▓ ржерзЗржХрзЗ рж░рзБржЯ рж╢рж┐ржЦрзЗ BGP-рждрзЗ ржмрж┐ржЬрзНржЮрж╛ржкржи ржжрзЗрзЯред</li>
            <li>R1 ржПрж░ BGP ржЯрзЗржмрж┐рж▓рзЗ ржжрзЗржЦрж╛ ржпрж╛рзЯ рж░рзБржЯржЧрзБрж▓рзЛрж░ ржЙрждрзНрж╕ ржХрзЛржерж╛ ржерзЗржХрзЗред</li>
            <li>R2 рж╢рзБржзрзБржорж╛рждрзНрж░ R1 ржерзЗржХрзЗ ржкрж╛ржУрзЯрж╛ рж░рзБржЯржЧрзБрж▓рзЛ ржжрзЗржЦрзЗред</li>
            <li>OSPF ржерзЗржХрзЗ Redistribute рж╣ржУрзЯрж╛ рж░рзБржЯржЧрзБрж▓рзЛ incomplete (?) origin ржкрж╛рзЯред</li>
            <li>IGP ржерзЗржХрзЗ рж╢рзЗржЦрж╛ рж░рзБржЯржЧрзБрж▓рзЛ i (IGP) origin ржкрж╛рзЯред</li>
            <li>IGP ржорзЗржЯрзНрж░рж┐ржХ MED (Metric) рж╣рж┐рж╕рзЗржмрзЗ ржЖрж╕рзЗред</li>
          </ul>
        

          
              <h1>Route Summarization (рж░рж╛ржЙржЯ рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи)</h1>
          
              <div class="box">
                  <h2>ржЕржирзБржмрж╛ржж:</h2>
                  <p>
                      ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ (Prefix) рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржХрж░рж╛ ржорж╛ржирзЗ рж╣рж▓рзЛ рж░рж╛ржЙржЯрж╛рж░рзЗрж░ рж░рж┐рж╕рзЛрж░рзНрж╕ ржмрж╛ржБржЪрж╛ржирзЛ ржПржмржВ ржжрзНрж░рзБржд ржмрзЗрж╕рзНржЯ-ржкрж╛рже (Best Path) рж╣рж┐рж╕рж╛ржм ржХрж░рж╛рж░ ржЬржирзНржп рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗрж░ ржЖржХрж╛рж░ ржХржорж╛ржирзЛред рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи рж╕рзНржЯрзНржпрж╛ржмрж┐рж▓рж┐ржЯрж┐ржУ (Stability) ржмрж╛рзЬрж╛рзЯ тАФ ржПржЯрж┐ ржбрж╛ржЙржирж╕рзНржЯрзНрж░рж┐ржо (Downstream) рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рзЛ ржерзЗржХрзЗ рж░рзБржЯ-ржлрзНрж▓рзНржпрж╛ржк (Route Flap) рж▓рзБржХрж┐ржпрж╝рзЗ рж░рж╛ржЦрзЗ, ржпрж╛рж░ ржлрж▓рзЗ рж░рж╛ржЙржЯрж┐ржВ ржЪрж░рзНржи (Routing Churn) ржХржорзЗ ржпрж╛рзЯред 
                  </p>
                  <p>
                      ржмрзЗрж╢рж┐рж░ржнрж╛ржЧ рж╕рж╛рж░рзНржнрж┐рж╕ ржкрзНрж░рзЛржнрж╛ржЗржбрж╛рж░ (Service Provider) IPv4-ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ /24 ржПрж░ ржЪрзЗрзЯрзЗ ржмрзЬ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ (ржпрзЗржоржи: /25 ржерзЗржХрзЗ /32) ржЧрзНрж░рж╣ржг ржХрж░рзЗ ржирж╛, ржХрж┐ржирзНрждрзБ ржмрж░рзНрждржорж╛ржирзЗ ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗ рзн,рзорзжрзжрзжрзж+ рж░рзБржЯ рж░рзЯрзЗржЫрзЗ ржПржмржВ ржПржЯрж┐ ржкрзНрж░рждрж┐ржирж┐рзЯржд ржмрж╛рзЬржЫрзЗред BGP (Border Gateway Protocol) рж░рж╛ржЙржЯ рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи ржЗржирзНржЯрж╛рж░ржирзЗржЯ рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рзЛрж░ BGP ржЯрзЗржмрж┐рж▓ ржЫрзЛржЯ рж░рж╛ржЦрждрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред 
                  </p>
                  <p>
                      BGP ржПржЬ (Edge) рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рзЛрждрзЗ рж░рж╛ржЙржЯ рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи ржХрж░рж▓рзЗ ржХрзЛрж░ (Core) рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рзЛрж░ ржХрж╛ржЬ ржХржорзЗ ржпрж╛рзЯред ржпрзЗржоржи, ржПржХржЯрж┐ рж░рж╛ржЙржЯрж╛рж░ (R3) ржпржжрж┐ ржЕржирзЗржХ рж░рзБржЯ рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржХрж░рзЗ ржЖрж░рзЗржХ рж░рж╛ржЙржЯрж╛рж░ржХрзЗ (R4) ржжрзЗрзЯ, рждрж╛рж╣рж▓рзЗ рж▓рж┐ржЩрзНржХрзЗ рж╕ржорж╕рзНржпрж╛ рж╣рж▓рзЗржУ R4-ржХрзЗ ржШржиржШржи ржЖржкржбрзЗржЯ ржкрзЗрждрзЗ рж╣рзЯ ржирж╛ред
                  </p>
                  <p>
                      рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржирзЗрж░ ржжрзБржЗржЯрж┐ ржЯрзЗржХржирж┐ржХ рж░рзЯрзЗржЫрзЗ:
                  </p>
                  <ul>
                      <li><b>рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ (Static):</b> ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржПржХржЯрж┐ рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ рж░рзБржЯ ржмрж╛ржирж┐рзЯрзЗ Null0 ржжрзЗржЦрж╛ржирзЛ рж╣рзЯред рждржмрзЗ ржПржЯрж┐ рж╕ржмрж╕ржорзЯ ржмрж┐ржЬрзНржЮрж╛ржкрж┐ржд рж╣рзЯред</li>
                      <li><b>ржбрж╛рзЯржирж╛ржорж┐ржХ (Dynamic):</b> ржпржЦржи ржнрзЗрждрж░рзЗрж░ ржЫрзЛржЯрзЛ рж░рзБржЯржЧрзБрж▓рзЛ ржерж╛ржХрзЗ, рждржЦржиржЗ ржмрзЬрзЛ рж░рзБржЯ ржмрж╛ржирж╛ржирзЛ рж╣рзЯред Null0 ржжрж┐рзЯрзЗ рж▓рзБржк рж░рзЛржз ржХрж░рж╛ рж╣рзЯред</li>
                  </ul>
                  <p>
                      ржЙржнрзЯ ржХрзНрж╖рзЗрждрзНрж░рзЗржЗ ржмрзЬрзЛ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ (ржЫрзЛржЯрзЛ prefix length) BGP-рждрзЗ ржкрж╛ржарж╛ржирзЛ рж╣рзЯред
                  </p>
              </div>
          
              <div class="box">
                  <h2>рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛:</h2>
                  <p>
                      ржзрж░рзЛ рждрзБржорж┐ ржЕржирзЗржХржЧрзБрж▓рзЛ ржЫрзЛржЯрзЛ рж░рж╛рж╕рзНрждрж╛рж░ (ржирзЗржЯржУрзЯрж╛рж░рзНржХ) ржарж┐ржХрж╛ржирж╛ (рж░рзБржЯ) ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж░рж╛ржЙржЯрж╛рж░ржХрзЗ ржжрж┐рж▓рзЗ, рж░рж╛ржЙржЯрж╛рж░ ржХрзНрж▓рж╛ржирзНржд рж╣рзЯрзЗ ржпрж╛ржмрзЗ! рждрж╛ржЗ ржПржЗ ржЫрзЛржЯрзЛ ржЫрзЛржЯрзЛ рж░рзБржЯржЧрзБрж▓рзЛржХрзЗ ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж╛ ржмрзЬрзЛ рж░рзБржЯрзЗ (summary) рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛ рж╣рзЯ тАФ ржпрзЗржи рж░рж╛ржЙржЯрж╛рж░ ржПржХржмрж╛рж░рзЗржЗ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗред
                  </p>
                  <p>
                      <b>ржЙржжрж╛рж╣рж░ржг:</b> 
                      <br>
                      <code>172.16.1.0/24</code>, 
                      <code>172.16.2.0/24</code>, 
                      <code>172.16.3.0/24</code> тАФ ржПржЧрзБрж▓рзЛржХрзЗ ржПржХрж╕рж╛ржерзЗ <code>172.16.0.0/22</code> ржмрж╛ржирж╛ржирзЛ ржпрж╛рзЯред
                  </p>
                  <p>
                      ржпржжрж┐ рж░рж╛ржЙржЯрж╛рж░рзЗрж░ ржоржзрзНржпрзЗ ржПржЗржнрж╛ржмрзЗ ржмрзЬрзЛ рж░рзБржЯ ржкрж╛ржарж╛ржирзЛ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ рж░рж╛ржЙржЯрж╛рж░ ржХржо ржЪрж┐ржирзНрждрж╛ ржХрж░рзЗ, ржХрж╛ржЬржУ ржХржо ржХрж░рзЗред 
                  </p>
                  <p>
                      ржзрж░рзЛ <code>R3</code> рж░рж╛ржЙржЯрж╛рж░ рж╕ржм рж░рзБржЯ <code>R4</code>-ржХрзЗ ржкрж╛ржарж╛рзЯред ржПржЦржи ржпржжрж┐ <code>10.13.1.0/24</code> ржирзЗржЯржУрзЯрж╛рж░рзНржХрзЗ рж╕ржорж╕рзНржпрж╛ рж╣рзЯ, R3 ржмрж╛рж░ржмрж╛рж░ R4-ржХрзЗ ржирждрзБржи рж░рзБржЯ ржкрж╛ржарж╛ржмрзЗред ржПрждрзЗ R4-ржПрж░ ржХрж╛ржЬ ржмрзЗрзЬрзЗ ржпрж╛ржмрзЗред ржХрж┐ржирзНрждрзБ ржпржжрж┐ R3 рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржХрж░рзЗ ржмрзЬрзЛ ржПржХржЯрж╛ рж░рзБржЯ ржкрж╛ржарж╛рзЯ, рждрж╛рж╣рж▓рзЗ R4 ржЬрж╛ржиржмрзЗржЗ ржирж╛ ржпрзЗ ржнрзЗрждрж░рзЗ ржХрзА рж╣ржЪрзНржЫрзЗ тАФ R4-ржПрж░ ржХрзЛржирзЛ ржХрж╛ржЬржЗ рж╣ржмрзЗ ржирж╛ред
                  </p>
                  <h3>рж╕рзБржмрж┐ржзрж╛:</h3>
                  <ul>
                      <li>рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓ ржЫрзЛржЯ рж╣рзЯред</li>
                      <li>рж░рж╛ржЙржЯрж╛рж░ ржХржо ржХрж╛ржЬ ржХрж░рзЗред</li>
                      <li>рж╕ржорж╕рзНржпрж╛ рж╣рж▓рзЗржУ ржмрж╛рж░ржмрж╛рж░ ржЖржкржбрзЗржЯ рж▓рж╛ржЧрзЗ ржирж╛ред</li>
                  </ul>
                  <h3>ржЙржкрж╕ржВрж╣рж╛рж░:</h3>
                  <p>
                      Route Summarization ржорж╛ржирзЗ ржЕржирзЗржХржЧрзБрж▓рзЛ ржЫрзЛржЯрзЛ рж░рзБржЯржХрзЗ ржПржХрж╕рж╛ржерзЗ ржмрзЬрзЛ рж░рзБржЯ ржмрж╛ржирж╛ржирзЛ, ржпрж╛рждрзЗ ржирзЗржЯржУрзЯрж╛рж░рзНржХ рж╕рж╣ржЬрзЗ ржЪрж▓рзЗ, ржХржо рж░рж┐рж╕рзЛрж░рзНрж╕ рж▓рж╛ржЧрзЗ, ржЖрж░ ржмрзЗрж╢рж┐ рж╕рзНржЯрзНржпрж╛ржмрж▓ ржерж╛ржХрзЗред
                  </p>
              </div>

                  <h1>тЬЕ BGP Aggregate Address ржПржмржВ Summary-Only ржПрж░ рж╕рж╣ржЬ ржмрзНржпрж╛ржЦрзНржпрж╛</h1>
              
                  <h2>тЪЩя╕П BGP Aggregation ржХрзА?</h2>
                  <p>
                      BGP route aggregation ржорж╛ржирзЗ рж╣рж▓рзЛ ржПржХрж╛ржзрж┐ржХ ржЫрзЛржЯ ржЫрзЛржЯ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рзБржЯржХрзЗ (prefix) ржПржХрждрзНрж░ ржХрж░рзЗ ржПржХржЯрж┐ ржмрзЬ рж░рзБржЯ ржмрж╛ржирж╛ржирзЛред 
                      ржПрждрзЗ рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓ ржЫрзЛржЯ рж╣рзЯ ржПржмржВ рж░рж╛ржЙржЯрж┐ржВ рждржерзНржп ржХржо рж▓рзЗржиржжрзЗржи рж╣рзЯред ржПржЯрж╛ ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯ ржмрж┐ржнрж┐ржирзНржи Autonomous System (AS)-ржПрж░ ржоржзрзНржпрзЗред
                  </p>
              
                  <h2>ЁЯЪи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХржорж╛ржирзНржб:</h2>
                  <p><b>aggregate-address &lt;network&gt; &lt;subnet-mask&gt; [summary-only] [as-set]</b></p>
                  <ul>
                      <li><b>network ржПржмржВ subnet-mask:</b> ржпрзЗ ржмрзЬ рж░рзБржЯ (summary route) advertise ржХрж░рж╛ рж╣ржмрзЗред</li>
                      <li><b>summary-only:</b> ржРржЪрзНржЫрж┐ржХред ржЫрзЛржЯ ржЫрзЛржЯ component route ржЧрзБрж▓рзЛ рж▓рзБржХрж╛ржирзЛ рж╣ржмрзЗред</li>
                      <li><b>as-set:</b> ржЖрж▓рж╛ржжрж╛ AS ржерзЗржХрзЗ ржПрж▓рзЗ loop ржарзЗржХрж╛рждрзЗ рж╕ржм AS path ржпрзЛржЧ ржХрж░ржмрзЗред</li>
                  </ul>
              
                  <h2>ЁЯФС ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржЙржжрж╛рж╣рж░ржг:</h2>
              
                  <h3>рззя╕ПтГг рж╢рзБрж░рзБ (Aggregation ржЫрж╛рзЬрж╛):</h3>
                  <p><b>R1:</b> 172.16.1.0/24, 172.16.2.0/24, 172.16.3.0/24, 192.168.1.1/32</p>
                  <p><b>R2 ржУ R3:</b> рж╕ржм рж░рзБржЯ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржкрж╛ржЪрзНржЫрзЗ, ржмрзЬ ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐ рж╣ржЪрзНржЫрзЗред</p>
              
                  <h3>рзия╕ПтГг ржкрзНрж░ржержо Aggregation (summary-only ржЫрж╛рзЬрж╛):</h3>
                  <p><b>ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</b></p>
                  <pre>
              aggregate-address 172.16.0.0 255.255.240.0  <!-- R1 -->
              aggregate-address 192.168.0.0 255.255.0.0  <!-- R2 -->
                  </pre>
                  <p><b>ржлрж▓рж╛ржлрж▓:</b> ржмрзЬ рж░рзБржЯ ржпрзБржХрзНржд рж╣рж▓рзЛ, рждржмрзЗ ржЫрзЛржЯржЧрзБрж▓рзЛржУ рж░ржЗрж▓ред</p>
              
                  <h3>рзйя╕ПтГг ржЪрзВрзЬрж╛ржирзНржд Aggregation (summary-only рж╕рж╣):</h3>
                  <p><b>ржЖржкржбрзЗржЯ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</b></p>
                  <pre>
              aggregate-address 172.16.0.0 255.255.240.0 summary-only  <!-- R1 -->
              aggregate-address 192.168.0.0 255.255.0.0 summary-only  <!-- R2 -->
                  </pre>
                  <p><b>ржлрж▓рж╛ржлрж▓:</b> рж╢рзБржзрзБ ржмрзЬ рж░рзБржЯ ржпрж╛ржЪрзНржЫрзЗ, ржЫрзЛржЯржЧрзБрж▓рзЛ ржмржирзНржзред</p>
              
                  <h3>рзкя╕ПтГг Null0 Route (Loop Prevention):</h3>
                  <p>рж╕рж╛рж░рж╛ржВрж╢ рж░рзБржЯрзЗрж░ ржЬржирзНржп Null0 рж░рзБржЯ рждрзИрж░рж┐ рж╣рзЯ:</p>
                  <pre>192.168.0.0/16 [200/0] via Null0</pre>
              
                  <h2>ЁЯУК Aggregation ржПрж░ ржЖржЧрзЗ ржУ ржкрж░рзЗ рждрзБрж▓ржирж╛:</h2>
                  <table border="1">
                      <thead>
                          <tr>
                              <th>ржкрж░рзНржпрж╛ржпрж╝</th>
                              <th>R3 ржХрзЗ ржкрж╛ржарж╛ржирзЛ рж░рзБржЯ</th>
                              <th>ржЫрзЛржЯ ржЫрзЛржЯ рж░рзБржЯ ржЖржЫрзЗ?</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr>
                              <td>Aggregation ржПрж░ ржЖржЧрзЗ</td>
                              <td>172.16.1.0/24, 172.16.2.0/24, 172.16.3.0/24, 192.168.1.1/32</td>
                              <td>рж╣рзНржпрж╛ржБ</td>
                          </tr>
                          <tr>
                              <td>Aggregation (summary-only ржЫрж╛рзЬрж╛)</td>
                              <td>172.16.0.0/20 + ржЫрзЛржЯ ржЫрзЛржЯ рж░рзБржЯ</td>
                              <td>рж╣рзНржпрж╛ржБ</td>
                          </tr>
                          <tr>
                              <td>Aggregation (summary-only рж╕рж╣)</td>
                              <td>172.16.0.0/20, 192.168.0.0/16</td>
                              <td>ржирж╛</td>
                          </tr>
                      </tbody>
                  </table>
              
                  <h2>ЁЯТб ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржмрж┐рж╖рзЯ:</h2>
                  <ul>
                      <li><b>aggregate-address:</b> ржмрзЬ рж╕рж╛рж░рж╛ржВрж╢ рж░рзБржЯ рждрзИрж░рж┐ ржХрж░рзЗред</li>
                      <li><b>summary-only:</b> ржЫрзЛржЯ рж░рзБржЯ ржмржирзНржз ржХрж░рзЗ, рж╢рзБржзрзБ ржмрзЬржЯрж╛ ржпрж╛рзЯред</li>
                      <li><b>Null0 route:</b> рж▓рзБржк ржарзЗржХрж╛рзЯред</li>
                      <li>рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓ ржЫрзЛржЯ рж╣рзЯ, ржирзЗржЯржУрзЯрж╛рж░рзНржХ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ ржерж╛ржХрзЗред</li>
                  </ul>
              
                  <h2>ЁЯЪА ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛рж░ ржХржорж╛ржирзНржб:</h2>
                  <ul>
                      <li>тЬЕ BGP ржЯрзЗржмрж┐рж▓ ржжрзЗржЦрж╛рж░ ржЬржирзНржп: <code>show bgp ipv4 unicast</code></li>
                      <li>тЬЕ Null0 рж░рзБржЯ ржжрзЗржЦрж╛рж░ ржЬржирзНржп: <code>show ip route bgp</code></li>
                      <li>тЬЕ BGP ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржжрзЗржЦрж╛рж░ ржЬржирзНржп: <code>show running-config | section router bgp</code></li>
                  </ul>
              
                  <p>рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ ржПржХржЯрж╛ ржЪрж┐рждрзНрж░ (ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржо) рждрзИрж░рж┐ ржХрж░рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐! ржЪрж╛ржЗрж▓рзЗ ржмрж▓рзЛ! ЁЯОитЬЕ</p>


                      <h1>BGP Atomic Aggregate ржПржмржВ Route Aggregation</h1>
                      <p>ржПржЗ ржЯрзЗржХрзНрж╕ржЯржЯрж┐ BGP (Border Gateway Protocol) рж░рж╛ржЙржЯрж┐ржВ ржкрзНрж░рзЛржЯрзЛржХрж▓рзЗ <strong>Atomic Aggregate</strong> ржПржмржВ <strong>Route Aggregation</strong> рж╕ржорзНржкрж░рзНржХрзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░рзЗред ржирж┐ржЪрзЗ ржмрж╛ржВрж▓рж╛ржпрж╝ рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рж╛ рж╣рж▓рзЛ:</p>
                  
                      <h2>Atomic Aggregate ржПржмржВ Route Aggregation ржХрж┐?</h2>
                      <h3>Route Aggregation (рж░рзБржЯ рж╕ржорж╖рзНржЯрж┐ржХрж░ржг):</h3>
                      <p>ржпржЦржи ржПржХржЯрж┐ BGP рж░рж╛ржЙржЯрж╛рж░ ржПржХрж╛ржзрж┐ржХ ржЫрзЛржЯ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ (prefix) ржХрзЗ ржПржХрждрзНрж░рж┐ржд ржХрж░рзЗ ржПржХржЯрж┐ ржмржбрж╝ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ ржкрж░рж┐ржгржд ржХрж░рзЗ, рждрж╛ржХрзЗ <strong>Route Aggregation</strong> ржмрж▓рзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, <code>172.16.1.0/24</code>, <code>172.16.2.0/24</code>, ржПржмржВ <code>172.16.3.0/24</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐ржХрзЗ ржПржХрждрзНрж░рж┐ржд ржХрж░рзЗ <code>172.16.0.0/20</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ ржкрж░рж┐ржгржд ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред</p>
                  
                      <h3>Atomic Aggregate:</h3>
                      <p>ржпржЦржи Route Aggregation ржХрж░рж╛ рж╣ржпрж╝, рждржЦржи ржорзВрж▓ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐рж░ <strong>AS_Path</strong>, <strong>MED</strong>, <strong>BGP ржХржорж┐ржЙржирж┐ржЯрж┐</strong> ржЗрждрзНржпрж╛ржжрж┐ ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ рж╣рж╛рж░рж┐ржпрж╝рзЗ ржпрж╛ржпрж╝ред ржПржЗ рждржерзНржп рж╣рж╛рж░рж╛ржирзЛрж░ ржЗржЩрзНржЧрж┐ржд ржжрзЗржУржпрж╝рж╛рж░ ржЬржирзНржп BGP рж░рж╛ржЙржЯрж╛рж░ <strong>Atomic Aggregate</strong> ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржПржЯрж┐ ржжрзЗржЦрж╛ржпрж╝ ржпрзЗ ржкрж╛ржерзЗрж░ ржХрж┐ржЫрзБ рждржерзНржп рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗржЫрзЗред</p>
                  
                      <h2>ржЙржжрж╛рж╣рж░ржг рж╕рж╣ ржмрзНржпрж╛ржЦрзНржпрж╛:</h2>
                      <h3>R2 рж░рж╛ржЙржЯрж╛рж░рзЗ Aggregation ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h3>
                      <p>R2 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ <code>172.16.0.0/20</code> ржПржмржВ <code>192.168.0.0/16</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐ржХрзЗ рж╕ржорж╖рзНржЯрж┐ржХрж░ржг (aggregate) ржХрж░рзЗ ржПржмржВ ржПржЗ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐ржХрзЗ ржЕржирзНржп рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рж┐рждрзЗ advertise ржХрж░рзЗред ржПржЯрж┐ ржХрж░рж╛рж░ рж╕ржоржпрж╝, R2 ржорзВрж▓ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐рж░ <strong>AS_Path</strong> рждржерзНржп ржкрзНрж░ржХрж╛рж╢ ржХрж░рзЗ ржирж╛ред</p>
                      <pre>
                  router bgp 65200
                  aggregate-address 192.168.0.0 255.255.0.0 summary-only
                  aggregate-address 172.16.0.0 255.255.240.0 summary-only
                      </pre>
                  
                      <h3>R3 рж░рж╛ржЙржЯрж╛рж░рзЗрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг:</h3>
                      <p>R3 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕ржорж╖рзНржЯрж┐ржХрзГржд ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ <code>172.16.0.0/20</code> ржжрзЗржЦрждрзЗ ржкрж╛ржпрж╝, ржПржмржВ ржПрж░ <strong>AS_Path</strong> рж╢рзБржзрзБржорж╛рждрзНрж░ <code>65200</code> (R2 ржПрж░ AS ржиржорзНржмрж░) ржжрзЗржЦрж╛ржпрж╝ред R1 ржПрж░ AS ржиржорзНржмрж░ (<code>65100</code>) ржПржЗ ржкрж╛ржерзЗ ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржирзЗржЗред</p>
                      <pre>
                  R3# show bgp ipv4 unicast | begin Network
                  Network          Next Hop            Path
                  *>  172.16.0.0/20    10.23.1.2                65200 i
                      </pre>
                  
                      <h3>Atomic Aggregate ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ:</h3>
                      <p>R3 рж░рж╛ржЙржЯрж╛рж░рзЗ <code>172.16.0.0/20</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗрж░ ржЬржирзНржп BGP ржЯрзЗржмрж┐рж▓рзЗ <strong>Atomic Aggregate</strong> ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ рж╕рзЗржЯ ржХрж░рж╛ ржерж╛ржХрзЗред ржПржЯрж┐ ржжрзЗржЦрж╛ржпрж╝ ржпрзЗ ржПржЗ рж░рзБржЯрзЗ ржкрж╛ржерзЗрж░ ржХрж┐ржЫрзБ рждржерзНржп рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗржЫрзЗред</p>
                      <pre>
                  R3# show bgp ipv4 unicast 172.16.0.0
                  Origin IGP, metric 0, localpref 100, valid, external, atomic-aggregate, best
                      </pre>
                  
                      <h2>рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк:</h2>
                      <ul>
                          <li><strong>Route Aggregation</strong> ржПрж░ ржорж╛ржзрзНржпржорзЗ ржПржХрж╛ржзрж┐ржХ ржЫрзЛржЯ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржХрзЗ ржПржХржЯрж┐ ржмржбрж╝ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ ржкрж░рж┐ржгржд ржХрж░рж╛ рж╣ржпрж╝ред</li>
                          <li><strong>Atomic Aggregate</strong> ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржжрзЗржЦрж╛ржпрж╝ ржпрзЗ рж╕ржорж╖рзНржЯрж┐ржХрж░ржгрзЗрж░ рж╕ржоржпрж╝ ржкрж╛ржерзЗрж░ ржХрж┐ржЫрзБ рждржерзНржп рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗржЫрзЗред</li>
                          <li>ржПржЗ ржЙржжрж╛рж╣рж░ржгрзЗ, R2 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ <code>172.16.0.0/20</code> ржПржмржВ <code>192.168.0.0/16</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐ржХрзЗ рж╕ржорж╖рзНржЯрж┐ржХрж░ржг ржХрж░рзЗ ржПржмржВ R3 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕ржорж╖рзНржЯрж┐ржХрзГржд ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржжрзЗржЦрждрзЗ ржкрж╛ржпрж╝ред</li>
                      </ul>

                      

                      

                          <h1>Route Aggregation with AS_SET</h1>

                          <h1>Route Aggregation with AS_SET ржХрж┐?</h1>
                          <h2>Route Aggregation (рж░рзБржЯ рж╕ржорж╖рзНржЯрж┐ржХрж░ржг):</h2>
                          <p>ржпржЦржи ржПржХржЯрж┐ BGP рж░рж╛ржЙржЯрж╛рж░ ржПржХрж╛ржзрж┐ржХ ржЫрзЛржЯ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ (prefix) ржХрзЗ ржПржХрждрзНрж░рж┐ржд ржХрж░рзЗ ржПржХржЯрж┐ ржмржбрж╝ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ ржкрж░рж┐ржгржд ржХрж░рзЗ, рждрж╛ржХрзЗ <strong>Route Aggregation</strong> ржмрж▓рзЗред</p>
                          <p>ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, <code>172.16.1.0/24</code>, <code>172.16.2.0/24</code>, ржПржмржВ <code>172.16.3.0/24</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐ржХрзЗ ржПржХрждрзНрж░рж┐ржд ржХрж░рзЗ <code>172.16.0.0/20</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ ржкрж░рж┐ржгржд ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред</p>
                      
                          <h2>AS_SET:</h2>
                          <p>рж╕рж╛ржзрж╛рж░ржг Route Aggregation-ржП ржорзВрж▓ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐рж░ <strong>AS_Path</strong>, <strong>MED</strong>, <strong>BGP ржХржорж┐ржЙржирж┐ржЯрж┐</strong> ржЗрждрзНржпрж╛ржжрж┐ ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ рж╣рж╛рж░рж┐ржпрж╝рзЗ ржпрж╛ржпрж╝ред</p>
                          <p><strong>AS_SET</strong> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ, ржПржЗ ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЧрзБрж▓рж┐ рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣ржпрж╝ред ржорзВрж▓ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐рж░ AS_Path рждржерзНржп <strong>AS_SET</strong> ржЕржВрж╢рзЗ рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣ржпрж╝ ржПржмржВ ржПржЯрж┐ ржмрзНрж░рзНржпрж╛ржХрзЗржЯрзЗрж░ ржоржзрзНржпрзЗ (<code>{}</code>) ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝ред</p>
                          <p><strong>AS_SET</strong> рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ рж╣ржк рж╣рж┐рж╕рзЗржмрзЗ ржЧржгрзНржп рж╣ржпрж╝, ржПржоржиржХрж┐ ржпржжрж┐ ржПржХрж╛ржзрж┐ржХ AS ржиржорзНржмрж░ рждрж╛рж▓рж┐ржХрж╛ржнрзБржХрзНржд ржерж╛ржХрзЗред</p>
                      
                          <h2>ржЙржжрж╛рж╣рж░ржг рж╕рж╣ ржмрзНржпрж╛ржЦрзНржпрж╛:</h2>
                          <h3>R2 рж░рж╛ржЙржЯрж╛рж░рзЗ AS_SET рж╕рж╣ Aggregation ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h3>
                          <p>R2 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ <code>172.16.0.0/20</code> ржПржмржВ <code>192.168.0.0/16</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐ржХрзЗ рж╕ржорж╖рзНржЯрж┐ржХрж░ржг (aggregate) ржХрж░рзЗ ржПржмржВ <strong>AS_SET</strong> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржорзВрж▓ AS_Path рждржерзНржп рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗред</p>
                          <pre>
                      router bgp 65200
                      aggregate-address 192.168.0.0 255.255.0.0 as-set summary-only
                      aggregate-address 172.16.0.0 255.255.240.0 as-set summary-only
                          </pre>
                      
                          <h3>R3 рж░рж╛ржЙржЯрж╛рж░рзЗрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг:</h3>
                          <p>R3 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ ржПржЦржи <code>172.16.0.0/20</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗрж░ AS_Path-ржП <code>65200</code> ржПржмржВ <code>65100</code> ржжрзЗржЦрждрзЗ ржкрж╛ржпрж╝ред ржПржЯрж┐ <strong>AS_SET</strong> ржПрж░ ржХрж╛рж░ржгрзЗ рж╕ржорзНржнржм рж╣ржпрж╝рзЗржЫрзЗред</p>
                          <pre>
                      R3# show bgp ipv4 unicast 172.16.0.0
                      Paths: (1 available, best #1, table default)
                      65200 65100, (aggregated by 65200 192.168.2.2)
                          </pre>
                      
                          <h3>192.168.0.0/16 ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗрж░ рж╕ржорж╕рзНржпрж╛:</h3>
                          <p>R2 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ <code>192.168.0.0/16</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржХрзЗ рж╕ржорж╖рзНржЯрж┐ржХрж░ржг ржХрж░рж╛рж░ рж╕ржоржпрж╝ <strong>AS_SET</strong> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржПржЗ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗрж░ AS_Path-ржП <code>65100</code> ржПржмржВ <code>65300</code> ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржерж╛ржХрзЗред</p>
                          <p>ржпржЦржи R3 ржПржЗ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЯрж┐ ржкрж╛ржпрж╝, рждржЦржи ржПржЯрж┐ ржжрзЗржЦрзЗ ржпрзЗ AS_Path-ржП рждрж╛рж░ ржирж┐ржЬрзЗрж░ AS ржиржорзНржмрж░ (<code>65300</code>) рж░ржпрж╝рзЗржЫрзЗред ржПржЯрж┐ ржПржХржЯрж┐ рж▓рзБржк рж╣рж┐рж╕рзЗржмрзЗ ржмрж┐ржмрзЗржЪрж┐ржд рж╣ржпрж╝, рждрж╛ржЗ R3 ржПржЗ рж░рзБржЯржЯрж┐ ржмрж╛рждрж┐рж▓ ржХрж░рзЗред</p>
                          <pre>
                      R2# show bgp ipv4 unicast 192.168.0.0
                      Paths: (1 available, best #1, table default)
                      {65100,65300}, (aggregated by 65200 192.168.2.2)
                          </pre>
                      
                          <h3>R1 рж░рж╛ржЙржЯрж╛рж░рзЗрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг:</h3>
                          <p>R1 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ржУ <code>192.168.0.0/16</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЯрж┐ ржмрж╛рждрж┐рж▓ ржХрж░рзЗ, ржХрж╛рж░ржг ржПржЯрж┐ AS_Path-ржП рждрж╛рж░ ржирж┐ржЬрзЗрж░ AS ржиржорзНржмрж░ (<code>65100</code>) ржжрзЗржЦрждрзЗ ржкрж╛ржпрж╝ред</p>
                          <pre>
                      R1# show bgp ipv4 unicast | begin Network
                      Network          Next Hop            Path
                      *>  192.168.1.1/32   0.0.0.0                  32768 ?
                          </pre>
                      
                          <h2>рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк:</h2>
                          <ul>
                              <li><strong>AS_SET</strong> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Route Aggregation ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржорзВрж▓ AS_Path рждржерзНржп рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржпрж╝ред</li>
                              <li><strong>AS_SET</strong> ржмрзНрж░рзНржпрж╛ржХрзЗржЯрзЗрж░ ржоржзрзНржпрзЗ (<code>{}</code>) ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝ ржПржмржВ ржПржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ рж╣ржк рж╣рж┐рж╕рзЗржмрзЗ ржЧржгрзНржп рж╣ржпрж╝ред</li>
                              <li>ржпржжрж┐ рж╕ржорж╖рзНржЯрж┐ржХрзГржд ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗрж░ AS_Path-ржП ржХрзЛржирзЛ рж░рж╛ржЙржЯрж╛рж░ рждрж╛рж░ ржирж┐ржЬрзЗрж░ AS ржиржорзНржмрж░ ржжрзЗржЦрзЗ, рждржмрзЗ ржПржЯрж┐ рж░рзБржЯржЯрж┐ ржмрж╛рждрж┐рж▓ ржХрж░рзЗ (рж▓рзБржк ржПржбрж╝рж╛ржирзЛрж░ ржЬржирзНржп)ред</li>
                              <li>ржПржЗ ржЙржжрж╛рж╣рж░ржгрзЗ, R2 рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ <code>172.16.0.0/20</code> ржПржмржВ <code>192.168.0.0/16</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐ржХрзЗ рж╕ржорж╖рзНржЯрж┐ржХрж░ржг ржХрж░рзЗ ржПржмржВ <strong>AS_SET</strong> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред R3 ржПржмржВ R1 рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рж┐ рждрж╛ржжрзЗрж░ ржирж┐ржЬрж╕рзНржм AS ржиржорзНржмрж░ ржжрзЗржЦрзЗ ржХрж┐ржЫрзБ рж░рзБржЯ ржмрж╛рждрж┐рж▓ ржХрж░рзЗред</li>
                          </ul>

                              <h1>Multiprotocol BGP (MP-BGP) ржХрж┐?</h1>
                              <p><strong>Multiprotocol BGP (MP-BGP)</strong> рж╣рж▓рзЛ BGP ржкрзНрж░рзЛржЯрзЛржХрж▓рзЗрж░ ржПржХржЯрж┐ ржПржХрзНрж╕ржЯрзЗржирж╢ржи, ржпрж╛ IPv4, IPv6 ржПржмржВ MPLS Layer 3 VPNs (L3VPNs) ржПрж░ ржорждрзЛ ржПржХрж╛ржзрж┐ржХ ржкрзНрж░рзЛржЯрзЛржХрж▓рзЗрж░ ржЬржирзНржп ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж▓рзЗржпрж╝рж╛рж░ рж░рж┐ржЪрзНржпрж╛ржмрж┐рж▓рж┐ржЯрж┐ ржЗржиржлрж░ржорзЗрж╢ржи (NLRI) ржмрж╣ржи ржХрж░рждрзЗ рж╕ржХрзНрж╖ржоред</p>
                              <p><strong>RFC 4760</strong> ржжрзНржмрж╛рж░рж╛ MP-BGP ржПрж░ ржЬржирзНржп ржирждрзБржи ржлрж┐ржЪрж╛рж░ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ:</p>
                              <ul>
                                  <li>ржПржХржЯрж┐ ржирждрзБржи <strong>Address Family Identifier (AFI)</strong> ржоржбрзЗрж▓ред</li>
                                  <li>ржирждрзБржи BGPv4 ржЕржкрж╢ржирж╛рж▓ ржПржмржВ ржиржи-ржЯрзНрж░рж╛ржиржЬрж┐ржЯрж┐ржн ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ:
                                      <ul>
                                          <li><strong>Multiprotocol Reachable NLRI:</strong> IPv6 рж░рзБржЯ рждржерзНржп ржмрж░рзНржгржирж╛ ржХрж░рзЗред</li>
                                          <li><strong>Multiprotocol Unreachable NLRI:</strong> IPv6 рж░рзБржЯ рж╕рж╛рж░рзНржнрж┐рж╕ ржерзЗржХрзЗ ржкрзНрж░рждрзНржпрж╛рж╣рж╛рж░ ржХрж░рзЗред</li>
                                      </ul>
                                  </li>
                              </ul>
                              <p>ржПржЗ ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЧрзБрж▓рж┐ ржЕржкрж╢ржирж╛рж▓ ржПржмржВ ржиржи-ржЯрзНрж░рж╛ржиржЬрж┐ржЯрж┐ржн, рждрж╛ржЗ ржпржжрж┐ ржХрзЛржирзЛ ржкрзБрж░рж╛ржирзЛ рж░рж╛ржЙржЯрж╛рж░ ржПржЗ ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЧрзБрж▓рж┐ ржмрзБржЭрждрзЗ ржирж╛ ржкрж╛рж░рзЗ, рждрж╛рж╣рж▓рзЗ ржПржЯрж┐ ржПржЗ рждржерзНржп ржЙржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗред</p>
                          
                              <h2>MP-BGP for IPv6:</h2>
                              <p>MP-BGP for IPv6, IPv4 BGP ржПрж░ ржорждрзЛ ржПржХржЗ ржкрж╛рже ржнрзЗржХрзНржЯрж░ рж░рж╛ржЙржЯрж┐ржВ ржкрзНрж░рзЛржЯрзЛржХрж▓ ржлрж┐ржЪрж╛рж░ ржПржмржВ ржирж┐ржпрж╝ржо ржЕржирзБрж╕рж░ржг ржХрж░рзЗред</p>
                              <p>MP-BGP for IPv6, BGP ржПрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд TCP ржкрзЛрж░рзНржЯ 179 ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рзЗрж╢ржи ржкрж┐ржпрж╝рж╛рж░рж┐ржВ ржХрж░рж╛рж░ ржЬржирзНржпред</p>
                              <p>ржкрзНрж░рж╛ржержорж┐ржХ ржУржкрзЗржи ржорзЗрж╕рзЗржЬ ржирзЗржЧрзЛрж╢рж┐ржпрж╝рзЗрж╢ржирзЗрж░ рж╕ржоржпрж╝, BGP ржкрж┐ржпрж╝рж╛рж░ рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рж┐ рждрж╛ржжрзЗрж░ ржХрзНржпрж╛ржкрж╛ржмрж┐рж▓рж┐ржЯрж┐ ржПржХрзНрж╕ржЪрзЗржЮрзНржЬ ржХрж░рзЗред MP-BGP ржПржХрзНрж╕ржЯрзЗржирж╢ржирзЗ ржПржХржЯрж┐ <strong>Address Family Identifier (AFI)</strong> рж░ржпрж╝рзЗржЫрзЗ, ржпрж╛ рж╕ржорж░рзНржерж┐ржд ржкрзНрж░рзЛржЯрзЛржХрж▓ржЧрзБрж▓рж┐ ржмрж░рзНржгржирж╛ ржХрж░рзЗред ржПржЫрж╛ржбрж╝рж╛ржУ, <strong>Subsequent Address Family Identifier (SAFI)</strong> ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржлрж┐рж▓рзНржб рж░ржпрж╝рзЗржЫрзЗ, ржпрж╛ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗ ржпрзЗ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ржЯрж┐ ржЗржЙржирж┐ржХрж╛рж╕рзНржЯ ржирж╛ржХрж┐ ржорж╛рж▓рзНржЯрж┐ржХрж╛рж╕рзНржЯ рж░рзБржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗрж░ ржЬржирзНржп ржкрзНрж░ржпрзЛржЬрзНржп:</p>
                              <ul>
                                  <li><strong>IPv4 ржЗржЙржирж┐ржХрж╛рж╕рзНржЯ:</strong> AFI: 1, SAFI: 1</li>
                                  <li><strong>IPv6 ржЗржЙржирж┐ржХрж╛рж╕рзНржЯ:</strong> AFI: 2, SAFI: 1</li>
                              </ul>
                          
                              <h2>ржЙржжрж╛рж╣рж░ржг ржЯржкрзЛрж▓ржЬрж┐:</h2>
                              <p>ржЪрж┐рждрзНрж░ 11-13 ржП рждрж┐ржиржЯрж┐ ржнрж┐ржирзНржи AS (AS 65100, AS 65200, ржПржмржВ AS 65300) рж╕рж╣ ржПржХржЯрж┐ рж╕рж┐ржорзНржкрж▓ ржЯржкрзЛрж▓ржЬрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗред</p>
                              <ul>
                                  <li><strong>R1</strong>, <strong>R2</strong>, ржПржмржВ <strong>R3</strong> рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рж┐ eBGP рж╕рзЗрж╢ржи ржЧржаржи ржХрж░рзЗред</li>
                                  <li><strong>рж▓рж┐ржЩрзНржХ-рж▓рзЛржХрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ржЧрзБрж▓рж┐</strong> FE80::/10 рж░рзЗржЮрзНржЬ ржерзЗржХрзЗ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ:
                                      <ul>
                                          <li>R1 ржПрж░ рж▓рж┐ржЩрзНржХржЧрзБрж▓рж┐ FE80::1</li>
                                          <li>R2 ржПрж░ рж▓рж┐ржЩрзНржХржЧрзБрж▓рж┐ FE80::2</li>
                                          <li>R3 ржПрж░ рж▓рж┐ржЩрзНржХржЧрзБрж▓рж┐ FE80::3</li>
                                      </ul>
                                  </li>
                                  <li><strong>рж▓рзБржкржмрзНржпрж╛ржХ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ржЧрзБрж▓рж┐:</strong>
                                      <ul>
                                          <li>R1: 2001:db8::1/128</li>
                                          <li>R2: 2001:db8::2/128</li>
                                          <li>R3: 2001:db8::3/128</li>
                                      </ul>
                                  </li>
                              </ul>
                          
                              <h3>ржЯржкрзЛрж▓ржЬрж┐ ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржо:</h3>
                              <pre>
                          2001:db8:0:12::/64     2001:db8:0:23::/64     2001:db8:0:1::/64
                                 R1 ----------------- R2 ----------------- R3
                                 AS 65100            AS 65200            AS 65300
                                 Loopback 0:         Loopback 0:         Loopback 0:
                                 2001:db8::1/128     2001:db8::2/128     2001:db8::3/128
                              </pre>
                          
                              <h2>рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк:</h2>
                              <ul>
                                  <li><strong>MP-BGP</strong> IPv4, IPv6, ржПржмржВ MPLS L3VPNs ржПрж░ ржорждрзЛ ржПржХрж╛ржзрж┐ржХ ржкрзНрж░рзЛржЯрзЛржХрж▓рзЗрж░ ржЬржирзНржп NLRI ржмрж╣ржи ржХрж░рждрзЗ рж╕ржХрзНрж╖ржоред</li>
                                  <li><strong>RFC 4760</strong> MP-BGP ржПрж░ ржЬржирзНржп ржирждрзБржи AFI ржПржмржВ NLRI ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рзЗред</li>
                                  <li><strong>MP-BGP for IPv6</strong> IPv4 BGP ржПрж░ ржорждрзЛ ржПржХржЗ ржирж┐ржпрж╝ржо ржПржмржВ ржлрж┐ржЪрж╛рж░ ржЕржирзБрж╕рж░ржг ржХрж░рзЗред</li>
                                  <li>ржЙржжрж╛рж╣рж░ржг ржЯржкрзЛрж▓ржЬрж┐рждрзЗ рждрж┐ржиржЯрж┐ AS ржПржмржВ рж▓рж┐ржЩрзНржХ-рж▓рзЛржХрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ рж╕рж╣ рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗред</li>
                              </ul>



                                  <h1>IPv6 BGP ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h1>
                                  <h2>IPv6 Address Family:</h2>
                                  <p>IPv6 BGP ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржирзЗрж░ ржЬржирзНржп <strong>IPv6 Address Family</strong> ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬ ржХрж░рждрзЗ рж╣ржмрзЗ ржПржмржВ ржирзЗржЗржмрж╛рж░ ржЕрзНржпрж╛ржХрзНржЯрж┐ржнрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗред</p>
                                  <p>рж╢рзБржзрзБржорж╛рждрзНрж░ IPv6 ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рж┐рж░ ржЬржирзНржп <strong>BGP Router ID (RID)</strong> рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХржнрж╛ржмрзЗ ржбрж┐ржлрж╛ржЗржи ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛рждрзЗ рж╕рзЗрж╢ржи ржЧржаржи ржХрж░рж╛ ржпрж╛ржпрж╝ред</p>
                              
                                  <h2>BGP рж╕рзЗрж╢ржи ржкрзНрж░рзЛржЯрзЛржХрж▓:</h2>
                                  <p>BGP рж╕рзЗрж╢ржи ржЧржаржирзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд ржкрзНрж░рзЛржЯрзЛржХрж▓ (IPv4 ржмрж╛ IPv6) ржЖрж▓рж╛ржжрж╛ рж╣рждрзЗ ржкрж╛рж░рзЗ, рждржмрзЗ ржПржЯрж┐ <strong>AFI/SAFI</strong> рж░рзБржЯ ржЕрзНржпрж╛ржбржнрж╛рж░рзНржЯрж╛ржЗржЬржорзЗржирзНржЯ ржерзЗржХрзЗ рж╕рзНржмрж╛ржзрзАржиред</p>
                                  <p>IPv6 ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ржЧрзБрж▓рж┐ IPv4 BGP рж╕рзЗрж╢ржирзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЕрзНржпрж╛ржбржнрж╛рж░рзНржЯрж╛ржЗржЬ ржХрж░рж╛ рж╕ржорзНржнржм, рждржмрзЗ ржПржЯрж┐ ржЕрждрж┐рж░рж┐ржХрзНржд ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржкрзНрж░ржпрж╝рзЛржЬржиред</p>
                              
                                  <h2>рж▓рж┐ржЩрзНржХ-рж▓рзЛржХрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕рждрж░рзНржХрждрж╛:</h2>
                                  <p>рж▓рж┐ржЩрзНржХ-рж▓рзЛржХрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ BGP ржкрж┐ржпрж╝рж╛рж░рж┐ржВ ржХрж░рж╛ ржЭрзБржБржХрж┐ржкрзВрж░рзНржг рж╣рждрзЗ ржкрж╛рж░рзЗ, ржХрж╛рж░ржг рж╣рж╛рж░рзНржбржУржпрж╝рзНржпрж╛рж░ ржлрзЗржЗрж▓рж┐ржЙрж░ ржмрж╛ ржХрзЗржмрж▓ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржлрж▓рзЗ MAC ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗ, ржпрж╛ рж▓рж┐ржЩрзНржХ-рж▓рзЛржХрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗред ржПржЯрж┐ рж╕рзЗрж╢ржи ржлрзЗржЗрж▓рж┐ржЙрж░рзЗрж░ ржХрж╛рж░ржг рж╣рждрзЗ ржкрж╛рж░рзЗред</p>
                                  <p>рж╕рзБрждрж░рж╛ржВ, <strong>ржЧрзНрж▓рзЛржмрж╛рж▓ ржЗржЙржирж┐ржХрж╛рж╕рзНржЯ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕</strong> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╕рзБржкрж╛рж░рж┐рж╢ ржХрж░рж╛ рж╣ржпрж╝ред</p>
                              
                                  <h2>ржЙржжрж╛рж╣рж░ржг ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h2>
                                  <p>ржирж┐ржЪрзЗ R1, R2, ржПржмржВ R3 рж░рж╛ржЙржЯрж╛рж░рзЗрж░ IPv6 BGP ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржжрзЗржЦрж╛ржирзЛ рж╣рж▓рзЛ:</p>
                              
                                  <h3>R1:</h3>
                                  <pre>
                              router bgp 65100
                               bgp router-id 192.168.1.1
                               bgp log-neighbor-changes
                               no bgp default ipv4-unicast
                               neighbor 2001:DB8:0:12::2 remote-as 65200
                               !
                               address-family ipv6
                                neighbor 2001:DB8:0:12::2 activate
                                redistribute connected
                                  </pre>
                              
                                  <h3>R2:</h3>
                                  <pre>
                              router bgp 65200
                               bgp router-id 192.168.2.2
                               bgp log-neighbor-changes
                               no bgp default ipv4-unicast
                               neighbor 2001:DB8:0:12::1 remote-as 65100
                               neighbor 2001:DB8:0:23::3 remote-as 65300
                               !
                               address-family ipv6
                                neighbor 2001:DB8:0:12::1 activate
                                neighbor 2001:DB8:0:23::3 activate
                                network 2001:DB8::2/128
                                network 2001:DB8:0:12::/64
                                network 2001:DB8:0:23::/64
                                  </pre>
                              
                                  <h3>R3:</h3>
                                  <pre>
                              router bgp 65300
                               bgp router-id 192.168.3.3
                               bgp log-neighbor-changes
                               no bgp default ipv4-unicast
                               neighbor 2001:DB8:0:23::2 remote-as 65200
                               !
                               address-family ipv6
                                neighbor 2001:DB8:0:23::2 activate
                                network 2001:DB8::3/128
                                network 2001:DB8:0:3::/64
                                network 2001:DB8:0:23::/64
                                  </pre>
                              
                                  <h2>BGP ржирзЗржЗржмрж╛рж░ ржнрзЗрж░рж┐ржлрж┐ржХрзЗрж╢ржи:</h2>
                                  <h3>IPv6 Capabilities:</h3>
                                  <p>BGP рж╕рзЗрж╢ржи ржирзЗржЧрзЛрж╢рж┐ржпрж╝рзЗрж╢ржирзЗрж░ рж╕ржоржпрж╝ рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рж┐ рждрж╛ржжрзЗрж░ <strong>AFI Capabilities</strong> ржПржХрзНрж╕ржЪрзЗржЮрзНржЬ ржХрж░рзЗред</p>
                                  <p><code>show bgp ipv6 unicast neighbors &lt;ip-address&gt; [detail]</code> ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ IPv6 ржХрзНржпрж╛ржкрж╛ржмрж┐рж▓рж┐ржЯрж┐ ржирзЗржЧрзЛрж╢рж┐ржпрж╝рзЗрж╢ржи рж╕ржлрж▓ рж╣ржпрж╝рзЗржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ ржпрж╛ржпрж╝ред</p>
                              
                                  <h3>BGP рж╕рзЗрж╢ржи рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕:</h3>
                                  <p><code>show bgp ipv6 unicast summary</code> ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ BGP рж╕рзЗрж╢ржирзЗрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕, рж░рзБржЯ рж╕ржВржЦрзНржпрж╛ ржПржмржВ рж╕рзЗрж╢ржи ржЖржкржЯрж╛ржЗржо ржжрзЗржЦрж╛ржирзЛ ржпрж╛ржпрж╝ред</p>
                              
                                  <h2>BGP ржЯрзЗржмрж┐рж▓ ржПржмржВ ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ:</h2>
                                  <h3>BGP ржЯрзЗржмрж┐рж▓:</h3>
                                  <p><code>show bgp ipv6 unicast</code> ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ IPv6 BGP ржЯрзЗржмрж┐рж▓ ржжрзЗржЦрж╛ржирзЛ ржпрж╛ржпрж╝ред</p>
                                  <p>ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, <code>::</code> ржирзЗржХрзНрж╕ржЯ рж╣ржк ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗ ржпрзЗ рж░рж╛ржЙржЯрж╛рж░ржЯрж┐ рж╕рзНржерж╛ржирзАржпрж╝ржнрж╛ржмрзЗ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рзЗржЫрзЗред</p>
                              
                                  <h3>ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ:</h3>
                                  <p><code>show bgp ipv6 unicast &lt;prefix/prefix-length&gt;</code> ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ IPv6 рж░рзБржЯрзЗрж░ ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржжрзЗржЦрж╛ржирзЛ ржпрж╛ржпрж╝ред</p>
                                  <p>ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, <strong>AS_Path</strong>, <strong>Origin</strong>, ржПржмржВ <strong>Local Preference</strong> ржлрж┐рж▓рзНржбржЧрзБрж▓рж┐ IPv4 рж░рзБржЯрзЗрж░ ржорждрзЛржЗред</p>
                              
                                  <h2>рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк:</h2>
                                  <ul>
                                      <li>IPv6 BGP ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржирзЗрж░ ржЬржирзНржп <strong>IPv6 Address Family</strong> ржЕрзНржпрж╛ржХрзНржЯрж┐ржнрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ ржПржмржВ ржирзЗржЗржмрж╛рж░ ржЕрзНржпрж╛ржХрзНржЯрж┐ржнрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗред</li>
                                      <li><strong>ржЧрзНрж▓рзЛржмрж╛рж▓ ржЗржЙржирж┐ржХрж╛рж╕рзНржЯ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕</strong> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ BGP ржкрж┐ржпрж╝рж╛рж░рж┐ржВ ржХрж░рж╛ рж╕рзБржкрж╛рж░рж┐рж╢ ржХрж░рж╛ рж╣ржпрж╝ред</li>
                                      <li><code>show bgp ipv6 unicast</code> ржПржмржВ <code>show bgp ipv6 unicast summary</code> ржХржорж╛ржирзНржбржЧрзБрж▓рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ IPv6 BGP рж╕рзЗрж╢ржи ржПржмржВ рж░рзБржЯржЧрзБрж▓рж┐ ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛ ржпрж╛ржпрж╝ред</li>
                                  </ul>


                                      <h1>IPv6 ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи</h1>
                                      <p>
                                          ржЖржЧрзЗ ржкрзНрж░ржжрж░рзНрж╢рж┐ржд рж╕ржорж╕рзНржд BGP ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржирж┐ржпрж╝ржо IPv6-ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗржУ ржкрзНрж░ржпрзЛржЬрзНржп, рждржмрзЗ IPv6 ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐ рж╢рзБрж░рзБ ржХрж░рждрзЗ рж╣ржмрзЗ ржПржмржВ ржирзЗржЗржмрж╛рж░ржХрзЗ рж╕ржХрзНрж░рж┐ржпрж╝ ржХрж░рждрзЗ рж╣ржмрзЗред рж╢рзБржзрзБржорж╛рждрзНрж░ IPv6 ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВржпрзБржХрзНржд рж░рж╛ржЙржЯрж╛рж░ржЧрзБрж▓рж┐ржХрзЗ BGP RID рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХржнрж╛ржмрзЗ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ рж╕рзЗрж╢ржи ржЧржаржи ржХрж░рж╛ ржпрж╛ржпрж╝ред
                                          BGP рж╕рзЗрж╢ржи рж╕рзНржерж╛ржкржирзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд ржкрзНрж░рзЛржЯрзЛржХрж▓ AFI/SAFI рж░рзБржЯ ржмрж┐ржЬрзНржЮрж╛ржкржи ржерзЗржХрзЗ рж╕рзНржмрж╛ржзрзАржиред BGP ржжрзНржмрж╛рж░рж╛ ржмрзНржпржмрж╣рзГржд TCP рж╕рзЗрж╢ржи ржПржХржЯрж┐ рж▓рзЗржпрж╝рж╛рж░ 4 ржкрзНрж░рзЛржЯрзЛржХрж▓, ржПржмржВ ржПржЯрж┐ ржПржХржЯрж┐ рж╕рзЗрж╢ржи adjacency ржЧржаржи ржПржмржВ рж░рзБржЯ ржмрж┐ржирж┐ржоржпрж╝ ржХрж░рждрзЗ IPv4 ржмрж╛ IPv6 ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗред IPv4 BGP рж╕рзЗрж╢ржирзЗрж░ ржорж╛ржзрзНржпржорзЗ IPv6 ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ ржмрж┐ржЬрзНржЮрж╛ржкржи ржжрзЗржУржпрж╝рж╛ рж╕ржорзНржнржм, рждржмрзЗ ржПржЯрж┐ ржПржЗ ржмржЗржпрж╝рзЗрж░ рж╕рзБржпрзЛржЧрзЗрж░ ржмрж╛ржЗрж░рзЗ ржХрж╛рж░ржг ржЕрждрж┐рж░рж┐ржХрзНржд ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржкрзНрж░ржпрж╝рзЛржЬржиред
                                      </p>
                                  
                                      <h2>ржирзЛржЯ:</h2>
                                      <p>
                                          ржЕржкрж╛рж░рзЗрж╢ржирж╛рж▓ ржЬржЯрж┐рж▓рждрж╛ ржПржбрж╝рж╛рждрзЗ BGP ржкрж┐ржпрж╝рж╛рж░рж┐ржВржпрж╝рзЗрж░ ржЬржирзНржп ржЕржиржирзНржп ржЧрзНрж▓рзЛржмрж╛рж▓ ржЗржЙржирж┐ржХрж╛рж╕рзНржЯ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ ржкрзНрж░рж╕рзНрждрж╛ржмрж┐ржд ржкржжрзНржзрждрж┐ред рж▓рж┐ржЩрзНржХ-рж▓рзЛржХрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ BGP ржкрж┐ржпрж╝рж╛рж░рж┐ржВ ржЭрзБржБржХрж┐ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржпржжрж┐ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕рзЗ ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржирж┐рж░рзНржзрж╛рж░ржг ржирж╛ ржХрж░рж╛ рж╣ржпрж╝ред рж╣рж╛рж░рзНржбржУржпрж╝рзНржпрж╛рж░ ржмрзНржпрж░рзНржерждрж╛ ржмрж╛ ржХрзЗржмрж▓рж┐ржВ ржкрж░рж┐ржмрж░рзНрждржи MAC ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░ржмрзЗ, ржпрж╛рж░ ржлрж▓рзЗ ржПржХржЯрж┐ ржирждрзБржи рж▓рж┐ржЩрзНржХ-рж▓рзЛржХрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ рждрзИрж░рж┐ рж╣ржмрзЗред ржПржЯрж┐ рж╕рзЗрж╢ржи ржмрзНржпрж░рзНржерждрж╛рж░ ржХрж╛рж░ржг рж╣ржмрзЗ ржХрж╛рж░ржг рж╕рзНржЯрзЗржЯрж▓рзЗрж╕ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржЕржЯрзЛржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржПржХржЯрж┐ ржирждрзБржи IP ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ рждрзИрж░рж┐ ржХрж░ржмрзЗред
                                      </p>
                                  
                                      <h2>ржЙржжрж╛рж╣рж░ржг 11-28 IPv6 BGP ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи</h2>
                                      <pre>
                                  R1
                                  router bgp 65100
                                   bgp router-id 192.168.1.1
                                   bgp log-neighbor-changes
                                   no bgp default ipv4-unicast
                                   neighbor 2001:DB8:0:12::2 remote-as 65200
                                   !
                                   address-family ipv6
                                    neighbor 2001:DB8:0:12::2 activate
                                    redistribute connected
                                  
                                  R2
                                  router bgp 65200
                                   bgp router-id 192.168.2.2
                                   bgp log-neighbor-changes
                                   no bgp default ipv4-unicast
                                   neighbor 2001:DB8:0:12::1 remote-as 65100
                                   neighbor 2001:DB8:0:23::3 remote-as 65300
                                   !
                                   address-family ipv6
                                    neighbor 2001:DB8:0:12::1 activate
                                    neighbor 2001:DB8:0:23::3 activate
                                    network 2001:DB8::2/128
                                    network 2001:DB8:0:12::/64
                                    network 2001:DB8:0:23::/64
                                  
                                  R3
                                  router bgp 65300
                                   bgp router-id 192.168.3.3
                                   bgp log-neighbor-changes
                                   no bgp default ipv4-unicast
                                   neighbor 2001:DB8:0:23::2 remote-as 65200
                                   !
                                   address-family ipv6
                                    neighbor 2001:DB8:0:23::2 activate
                                    network 2001:DB8::3/128
                                    network 2001:DB8:0:3::/64
                                    network 2001:DB8:0:23::/64
                                      </pre>
                                  
                                      <h2>ржирзЛржЯ:</h2>
                                      <p>
                                          IOS-ржП IPv4 ржЗржЙржирж┐ржХрж╛рж╕рзНржЯ рж░рж╛ржЙржЯрж┐ржВ ржХрзНрж╖ржорждрж╛ ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ ржмрж┐ржЬрзНржЮрж╛ржкрж┐ржд рж╣ржпрж╝ ржпржжрж┐ ржирж╛ IPv4 ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐рждрзЗ ржирзЗржЗржмрж╛рж░ рж╕рзНржкрж╖рзНржЯржнрж╛ржмрзЗ рж╢рж╛ржЯ ржбрж╛ржЙржи ржХрж░рж╛ рж╣ржпрж╝ ржмрж╛ BGP ржкрзНрж░рж╕рзЗрж╕рзЗ <code>no bgp default ipv4-unicast</code> ржХржорж╛ржирзНржбрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЧрзНрж▓рзЛржмрж╛рж▓рж┐ рж╢рж╛ржЯ ржбрж╛ржЙржи ржХрж░рж╛ рж╣ржпрж╝ред
                                      </p>
                                  
                                      <h2>ржЙржжрж╛рж╣рж░ржг 11-29 IPv6 ржХрзНрж╖ржорждрж╛рж░ ржЬржирзНржп BGP ржирзЗржЗржмрж╛рж░ ржжрзЗржЦрзБржи</h2>
                                      <pre>
                                  R1# show bgp ipv6 unicast neighbors 2001:DB8:0:12::2
                                  ! Output omitted for brevity
                                  BGP neighbor is 2001:DB8:0:12::2,  remote AS 65200, external link
                                  BGP version 4, remote router ID 192.168.2.2
                                  BGP state = Established, up for 00:28:25
                                  Last read 00:00:54, last write 00:00:34, hold time is 180, keepalive interval is 60 seconds
                                  Neighbor capabilities:
                                    Route refresh: advertised and received(new)
                                    Four-octets ASN Capability: advertised and received
                                    Address family IPv6 Unicast: advertised and received
                                    Enhanced Refresh Capability: advertised and received
                                  ..
                                  For address family: IPv6 Unicast
                                    Session: 2001:DB8:0:12::2
                                    BGP table version 13, neighbor version 13/0
                                    Output queue size : 0
                                    Index 1, Advertise bit 0
                                    1 update-group member
                                    Slow-peer detection is disabled
                                    Slow-peer split-update-group dynamic is disabled
                                    Sent       Rcvd
                                    Prefix activity:               ----       ----
                                    Prefixes Current:               3          5 (Consumes 520 bytes)
                                    Prefixes Total:                 6         10
                                      </pre>
                                  
                                      <h2>ржЙржжрж╛рж╣рж░ржг 11-30 IPv6 BGP рж╕рзЗрж╢ржи ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛</h2>
                                      <pre>
                                  R2# show bgp ipv6 unicast summary
                                  BGP router identifier 192.168.2.2, local AS number 65200
                                  BGP table version is 19, main routing table version 19
                                  7 network entries using 1176 bytes of memory
                                  8 path entries using 832 bytes of memory
                                  3/3 BGP path/bestpath attribute entries using 456 bytes of memory
                                  2 BGP AS-PATH entries using 48 bytes of memory
                                  0 BGP route-map cache entries using 0 bytes of memory
                                  0 BGP filter-list cache entries using 0 bytes of memory
                                  BGP using 2512 total bytes of memory
                                  BGP activity 7/0 prefixes, 8/0 paths, scan interval 60 secs
                                  
                                  Neighbor         V     AS MsgRcvd MsgSent TblVer InQ OutQ Up/Down  State/PfxRcd
                                  2001:DB8:0:12::1 4  65100      35      37     19   0    0 00:25:08        3
                                  2001:DB8:0:23::3 4  65300      32      37     19   0    0 00:25:11        3
                                      </pre>
                                  
                                      <h2>ржЙржжрж╛рж╣рж░ржг 11-31 IPv6 BGP ржЯрзЗржмрж┐рж▓ ржжрзЗржЦрзБржи</h2>
                                      <pre>
                                  R1# show bgp ipv6 unicast
                                  BGP table version is 13, local router ID is 192.168.1.1
                                  Status codes: s suppressed, d damped, h history, * valid, > best, i - internal,
                                                r RIB-failure, S Stale, m multipath, b backup-path, f RT-Filter,
                                                x best-external, a additional-path, c RIB-compressed,
                                  Origin codes: i - IGP, e - EGP, ? - incomplete
                                  RPKI validation codes: V valid, I invalid, N Not found
                                  
                                       Network          Next Hop            Metric LocPrf Weight Path
                                   *>  2001:DB8::1/128  ::                       0         32768 ?
                                   *>  2001:DB8::2/128  2001:DB8:0:12::2         0             0 65200 i
                                   *>  2001:DB8::3/128  2001:DB8:0:12::2         0             0 65200 65300 i
                                   *>  2001:DB8:0:1::/64 ::                      0         32768 ?
                                   *>  2001:DB8:0:3::/64 2001:DB8:0:12::2        0             0 65200 65300 i
                                   *  2001:DB8:0:12::/64 2001:DB8:0:12::2        0             0 65200 i
                                   *>                    ::                      0         32768 ?
                                   *>  2001:DB8:0:23::/64 2001:DB8:0:12::2       0             0 65200 65300 i
                                      </pre>
                                  
                                      <h2>ржЙржжрж╛рж╣рж░ржг 11-32 ржПржХржЯрж┐ IPv6 рж░рзБржЯрзЗрж░ ржЬржирзНржп BGP ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржжрзЗржЦрзБржи</h2>
                                      <pre>
                                  R3# show bgp ipv6 unicast 2001:DB8::1/128
                                  BGP routing table entry for 2001:DB8::1/128, version 9
                                  Paths: (1 available, best #1, table default)
                                    Not advertised to any peer
                                    Refresh Epoch 2
                                    65200 65100
                                      2001:DB8:0:23::2 (FE80::2) from 2001:DB8:0:23::2 (192.168.2.2)
                                        Origin incomplete, localpref 100, valid, external, best
                                        rx pathid: 0, tx pathid: 0x0
                                      </pre>
                                  
                                      <h2>ржЙржжрж╛рж╣рж░ржг 11-33 BGP рж╢рзЗржЦрж╛ IPv6 рж░рзБржЯрзЗрж░ ржЬржирзНржп ржЧрзНрж▓рзЛржмрж╛рж▓ RIB</h2>
                                      <pre>
                                  R2# show ipv6 route bgp
                                  IPv6 Routing Table - default - 10 entries
                                  Codes: C - Connected, L - Local, S - Static, U - Per-user Static route
                                         B - BGP, HA - Home Agent, MR - Mobile Router, R - RIP
                                         H - NHRP, I1 - ISIS L1, I2 - ISIS L2, IA - ISIS interarea
                                         IS - ISIS summary, D - EIGRP, EX - EIGRP external, NM - NEMO
                                         ND - ND Default, NDp - ND Prefix, DCE - Destination, NDr - Redirect
                                         RL - RPL, O - OSPF Intra, OI - OSPF Inter, OE1 - OSPF ext 1
                                         OE2 - OSPF ext 2, ON1 - OSPF NSSA ext 1, ON2 - OSPF NSSA ext 2
                                         la - LISP alt, lr - LISP site-registrations, ld - LISP dyn-eid
                                         a - Application
                                  B   2001:DB8::1/128 [20/0]
                                       via FE80::1, GigabitEthernet0/0
                                  B   2001:DB8::3/128 [20/0]
                                       via FE80::3, GigabitEthernet0/1
                                  B   2001:DB8:0:1::/64 [20/0]
                                       via FE80::1, GigabitEthernet0/0
                                  B   2001:DB8:0:3::/64 [20/0]
                                       via FE80::3, GigabitEthernet0/1
                                      </pre>

                                          <h1>IPv6 BGP ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржирзЛржЯ</h1>
                                      
                                          <h2>ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржЯржкрзЛрж▓ржЬрж┐:</h2>
                                          <ul>
                                              <li><strong>R1</strong> (AS 65100) ржПржмржВ <strong>R2</strong> (AS 65200) ржПрж░ ржоржзрзНржпрзЗ ржПржХржЯрж┐ рж▓рж┐ржЩрзНржХред</li>
                                              <li><strong>R2</strong> (AS 65200) ржПржмржВ <strong>R3</strong> (AS 65300) ржПрж░ ржоржзрзНржпрзЗ ржПржХржЯрж┐ рж▓рж┐ржЩрзНржХред</li>
                                          </ul>
                                      
                                          <h2>IPv6 ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ:</h2>
                                          <ul>
                                              <li>R1 ржПржмржВ R2 ржПрж░ ржоржзрзНржпрзЗ рж▓рж┐ржЩрзНржХ: <code>2001:DB8:0:12::/64</code></li>
                                              <li>R2 ржПржмржВ R3 ржПрж░ ржоржзрзНржпрзЗ рж▓рж┐ржЩрзНржХ: <code>2001:DB8:0:23::/64</code></li>
                                              <li>R1 ржПрж░ рж▓рзБржкржмрзНржпрж╛ржХ: <code>2001:DB8::1/128</code></li>
                                              <li>R2 ржПрж░ рж▓рзБржкржмрзНржпрж╛ржХ: <code>2001:DB8::2/128</code></li>
                                              <li>R3 ржПрж░ рж▓рзБржкржмрзНржпрж╛ржХ: <code>2001:DB8::3/128</code></li>
                                          </ul>
                                      
                                          <h2>R1 ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h2>
                                          <pre>
                                      R1# configure terminal
                                      R1(config)# interface GigabitEthernet0/0
                                      R1(config-if)# ipv6 address 2001:DB8:0:12::1/64
                                      R1(config-if)# no shutdown
                                      R1(config-if)# exit
                                      
                                      R1(config)# interface Loopback0
                                      R1(config-if)# ipv6 address 2001:DB8::1/128
                                      R1(config-if)# exit
                                      
                                      R1(config)# router bgp 65100
                                      R1(config-router)# bgp router-id 192.168.1.1
                                      R1(config-router)# no bgp default ipv4-unicast
                                      R1(config-router)# neighbor 2001:DB8:0:12::2 remote-as 65200
                                      R1(config-router)# address-family ipv6 unicast
                                      R1(config-router-af)# neighbor 2001:DB8:0:12::2 activate
                                      R1(config-router-af)# network 2001:DB8::1/128
                                      R1(config-router-af)# redistribute connected
                                      R1(config-router-af)# exit
                                          </pre>
                                      
                                          <h2>R2 ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h2>
                                          <pre>
                                      R2# configure terminal
                                      R2(config)# interface GigabitEthernet0/0
                                      R2(config-if)# ipv6 address 2001:DB8:0:12::2/64
                                      R2(config-if)# no shutdown
                                      R2(config-if)# exit
                                      
                                      R2(config)# interface GigabitEthernet0/1
                                      R2(config-if)# ipv6 address 2001:DB8:0:23::2/64
                                      R2(config-if)# no shutdown
                                      R2(config-if)# exit
                                      
                                      R2(config)# interface Loopback0
                                      R2(config-if)# ipv6 address 2001:DB8::2/128
                                      R2(config-if)# exit
                                      
                                      R2(config)# router bgp 65200
                                      R2(config-router)# bgp router-id 192.168.2.2
                                      R2(config-router)# no bgp default ipv4-unicast
                                      R2(config-router)# neighbor 2001:DB8:0:12::1 remote-as 65100
                                      R2(config-router)# neighbor 2001:DB8:0:23::3 remote-as 65300
                                      R2(config-router)# address-family ipv6 unicast
                                      R2(config-router-af)# neighbor 2001:DB8:0:12::1 activate
                                      R2(config-router-af)# neighbor 2001:DB8:0:23::3 activate
                                      R2(config-router-af)# network 2001:DB8::2/128
                                      R2(config-router-af)# network 2001:DB8:0:12::/64
                                      R2(config-router-af)# network 2001:DB8:0:23::/64
                                      R2(config-router-af)# exit
                                          </pre>
                                      
                                          <h2>R3 ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:</h2>
                                          <pre>
                                      R3# configure terminal
                                      R3(config)# interface GigabitEthernet0/0
                                      R3(config-if)# ipv6 address 2001:DB8:0:23::3/64
                                      R3(config-if)# no shutdown
                                      R3(config-if)# exit
                                      
                                      R3(config)# interface Loopback0
                                      R3(config-if)# ipv6 address 2001:DB8::3/128
                                      R3(config-if)# exit
                                      
                                      R3(config)# router bgp 65300
                                      R3(config-router)# bgp router-id 192.168.3.3
                                      R3(config-router)# no bgp default ipv4-unicast
                                      R3(config-router)# neighbor 2001:DB8:0:23::2 remote-as 65200
                                      R3(config-router)# address-family ipv6 unicast
                                      R3(config-router-af)# neighbor 2001:DB8:0:23::2 activate
                                      R3(config-router-af)# network 2001:DB8::3/128
                                      R3(config-router-af)# network 2001:DB8:0:23::/64
                                      R3(config-router-af)# exit
                                          </pre>
                                      
                                          <h2>ржХржорж╛ржирзНржбрж╕ ржЯрзБ ржнрзЗрж░рж┐ржлрж╛ржЗ:</h2>
                                          <ol>
                                              <li><strong>BGP рж╕рзЗрж╢ржи рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрзЗржХ ржХрж░рзБржи:</strong>
                                                  <pre>R1# show bgp ipv6 unicast summary</pre>
                                              </li>
                                              <li><strong>BGP ржЯрзЗржмрж┐рж▓ ржЪрзЗржХ ржХрж░рзБржи:</strong>
                                                  <pre>R1# show bgp ipv6 unicast</pre>
                                              </li>
                                              <li><strong>IPv6 рж░рзБржЯрж┐ржВ ржЯрзЗржмрж┐рж▓ ржЪрзЗржХ ржХрж░рзБржи:</strong>
                                                  <pre>R1# show ipv6 route bgp</pre>
                                              </li>
                                          </ol>
                                      
                                          <h2>ржЖржЙржЯржкрзБржЯ ржЙржжрж╛рж╣рж░ржг:</h2>
                                          <h3>R1 ржПрж░ BGP ржЯрзЗржмрж┐рж▓:</h3>
                                          <pre>
                                      R1# show bgp ipv6 unicast
                                      BGP table version is 5, local router ID is 192.168.1.1
                                      Status codes: s suppressed, d damped, h history, * valid, > best, i - internal
                                      Origin codes: i - IGP, e - EGP, ? - incomplete
                                      
                                           Network          Next Hop            Metric LocPrf Weight Path
                                       *>  2001:DB8::1/128  ::                       0         32768 ?
                                       *>  2001:DB8::2/128  2001:DB8:0:12::2         0             0 65200 i
                                       *>  2001:DB8::3/128  2001:DB8:0:12::2         0             0 65200 65300 i
                                       *>  2001:DB8:0:12::/64 ::                      0         32768 ?
                                       *>  2001:DB8:0:23::/64 2001:DB8:0:12::2        0             0 65200 65300 i
                                          </pre>

                                              <h1>IPv6 рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи</h1>
                                              <p>
                                                  IPv4 рж░рзБржЯржЧрзБрж▓рж┐рж░ ржорждрзЛ ржПржХржЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржпрж╝ IPv6 рж░рзБржЯржЧрзБрж▓рж┐ржХрзЗ рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржмрж╛ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝, ржПржмржВ ржлрж░ржорзНржпрж╛ржЯржЯрж┐ ржЕржнрж┐ржирзНржи, рждржмрзЗ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржиржЯрж┐ IPv6 ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐рж░ ржЕржзрзАржирзЗ рж╕рзНржерж╛ржкржи ржХрж░рж╛ рж╣ржпрж╝ред ржПржЬржирзНржп <code>aggregate-address prefix/prefix-length [summary-only] [as-set]</code> ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред
                                              </p>
                                          
                                              <h2>ржЙржжрж╛рж╣рж░ржг 11-34: R2-ржП IPv6 BGP ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗрж╢ржи ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи</h2>
                                              <pre>
                                          router bgp 65200
                                           bgp router-id 192.168.2.2
                                           bgp log-neighbor-changes
                                           neighbor 2001:DB8:0:12::1 remote-as 65100
                                           neighbor 2001:DB8:0:23::3 remote-as 65300
                                           !
                                           address-family ipv4
                                            no neighbor 2001:DB8:0:12::1 activate
                                            no neighbor 2001:DB8:0:23::3 activate
                                           exit-address-family
                                           !
                                           address-family ipv6
                                            bgp scan-time 6
                                            network 2001:DB8::2/128
                                            network 2001:DB8:0:12::/64
                                            aggregate-address 2001:DB8::/59 summary-only
                                            neighbor 2001:DB8:0:12::1 activate
                                            neighbor 2001:DB8:0:23::3 activate
                                           exit-address-family
                                              </pre>
                                          
                                              <h2>ржЙржжрж╛рж╣рж░ржг 11-35: IPv6 рж░рзБржЯ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗрж╢ржи ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛</h2>
                                              <pre>
                                          R3# show bgp ipv6 unicast | b Network
                                          Network          Next Hop          Metric LocPrf Weight Path
                                          *>  2001:DB8::/59  2001:DB8:0:23::2       0             0 65200 i
                                          *>  2001:DB8::3/128 ::                     0         32768 i
                                          *>  2001:DB8:0:3::/64 ::                   0         32768 i
                                          *>  2001:DB8:0:23::/64 ::                  0         32768 i
                                          
                                          R1# show bgp ipv6 unicast | b Network
                                          Network          Next Hop          Metric LocPrf Weight Path
                                          *>  2001:DB8::/59  2001:DB8:0:12::2       0             0 65200 i
                                          *>  2001:DB8::1/128 ::                     0         32768 ?
                                          *>  2001:DB8:0:1::/64 ::                   0         32768 ?
                                          *>  2001:DB8:0:12::/64 ::                  0         32768 ?
                                          *>  2001:DB8:0:23::/64 2001:DB8:0:12::2    0 65200 65300 i
                                              </pre>
                                          
                                              <h2>IPv6 рж▓рзБржкржмрзНржпрж╛ржХ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи</h2>
                                              <p>
                                                  IPv6 рж▓рзБржкржмрзНржпрж╛ржХ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ржЧрзБрж▓рж┐ (<code>2001:db8:0:1/128</code>, <code>2001:db8:0:2/128</code>, ржПржмржВ <code>2001:db8:0:3/128</code>) рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржХрж░рж╛ ржмрзЗрж╢ рж╕рж╣ржЬ, ржХрж╛рж░ржг ржПржЧрзБрж▓рж┐ рж╕ржмржЗ ржмрзЗрж╕ IPv6 рж╕рж╛ржорж╛рж░рж┐ рж░рзЗржЮрзНржЬ <code>2001:db8:0:0::/64</code>-ржП ржкржбрж╝рзЗред ржЪрждрзБрж░рзНрже рж╣рзЗржХрзНрж╕ржЯрзЗржЯржЯрж┐ ржжрж╢ржорж┐ржХ ржорж╛ржи 1, 2, ржмрж╛ 3 ржжрж┐ржпрж╝рзЗ рж╢рзБрж░рзБ рж╣ржпрж╝, ржпрж╛ ржорж╛рждрзНрж░ 2 ржмрж┐ржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ; ржПржЗ рж░рзЗржЮрзНржЬржЯрж┐ рж╕рж╣ржЬрзЗржЗ <code>2001:db8:0:0::/62</code> (ржмрж╛ <code>2001:db8::/62</code>) ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж░рзЗржЮрзНржЬрзЗ рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред
                                              </p>
                                          
                                              <h2>R1 ржПржмржВ R2 ржПрж░ ржоржзрзНржпрзЗ ржкрж┐ржпрж╝рж╛рж░рж┐ржВ рж▓рж┐ржЩрзНржХ рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи</h2>
                                              <p>
                                                  R1 ржПржмржВ R2 ржПрж░ ржоржзрзНржпрзЗ ржкрж┐ржпрж╝рж╛рж░рж┐ржВ рж▓рж┐ржЩрзНржХ (<code>2001:db8:0:12::/64</code>) рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржХрж░рж╛рж░ ржЬржирзНржп ржкрзНрж░ржержорзЗ рж╣рзЗржХрзНрж╕рзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рждрзЗ рж╣ржмрзЗ, ржжрж╢ржорж┐ржХ ржорж╛ржи ржиржпрж╝ред ржЪрждрзБрж░рзНрже рж╣рзЗржХрзНрж╕ржЯрзЗржЯржЯрж┐ ржжрж╢ржорж┐ржХ ржорж╛ржи 18 ржмрж╣ржи ржХрж░рзЗ (12 ржиржпрж╝), ржпрж╛рж░ ржЬржирзНржп ржирзНржпрзВржирждржо 5 ржмрж┐ржЯ ржкрзНрж░ржпрж╝рзЛржЬржиред ржирж┐ржЪрзЗрж░ рж╕рж╛рж░ржгрзАрждрзЗ рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржирзЗрж░ ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржмрж┐ржЯ, IPv6 рж╕рж╛ржорж╛рж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржПржмржВ рж╕рж╛ржорж╛рж░рж┐ рж░рзЗржЮрзНржЬрзЗрж░ ржХржорзНржкрзЛржирзЗржирзНржЯ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐ рждрж╛рж▓рж┐ржХрж╛ржнрзБржХрзНржд ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред
                                              </p>
                                          
                                              <h3>рж╕рж╛рж░ржгрзА 11-5: IPv6 рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи ржЯрзЗржмрж┐рж▓</h3>
                                              <table>
                                                  <thead>
                                                      <tr>
                                                          <th>ржмрж┐ржЯ ржкрзНрж░ржпрж╝рзЛржЬржи</th>
                                                          <th>рж╕рж╛ржорж╛рж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕</th>
                                                          <th>ржХржорзНржкрзЛржирзЗржирзНржЯ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЧрзБрж▓рж┐</th>
                                                      </tr>
                                                  </thead>
                                                  <tbody>
                                                      <tr>
                                                          <td>2</td>
                                                          <td><code>2001:db8:0:0::/62</code></td>
                                                          <td><code>2001:db8:0:0::/64</code> ржерзЗржХрзЗ <code>2001:db8:0:3::/64</code></td>
                                                      </tr>
                                                      <tr>
                                                          <td>3</td>
                                                          <td><code>2001:db8:0:0::/61</code></td>
                                                          <td><code>2001:db8:0:0::/64</code> ржерзЗржХрзЗ <code>2001:db8:0:7::/64</code></td>
                                                      </tr>
                                                      <tr>
                                                          <td>4</td>
                                                          <td><code>2001:db8:0:0::/60</code></td>
                                                          <td><code>2001:db8:0:0::/64</code> ржерзЗржХрзЗ <code>2001:db8:0:F::/64</code></td>
                                                      </tr>
                                                      <tr>
                                                          <td>5</td>
                                                          <td><code>2001:db8:0:0::/59</code></td>
                                                          <td><code>2001:db8:0:0::/64</code> ржерзЗржХрзЗ <code>2001:db8:0:1F::/64</code></td>
                                                      </tr>
                                                      <tr>
                                                          <td>6</td>
                                                          <td><code>2001:db8:0:0::/58</code></td>
                                                          <td><code>2001:db8:0:0::/64</code> ржерзЗржХрзЗ <code>2001:db8:0:3F::/64</code></td>
                                                      </tr>
                                                  </tbody>
                                              </table>
                                          
                                              <h2>R2 ржПржмржВ R3 ржПрж░ ржоржзрзНржпрзЗ ржкрж┐ржпрж╝рж╛рж░рж┐ржВ рж▓рж┐ржЩрзНржХ рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи</h2>
                                              <p>
                                                  ржмрж░рзНрждржорж╛ржирзЗ R2 ржПржмржВ R3 ржПрж░ ржоржзрзНржпрзЗ ржкрж┐ржпрж╝рж╛рж░рж┐ржВ рж▓рж┐ржЩрзНржХ (<code>2001:db8:0:23::/64</code>) рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржПржмржВ рж╕рж╛ржкрзНрж░рзЗрж╕ ржХрж░рж╛ рж╣ржпрж╝ржирж┐, ржХрж╛рж░ржг ржПржЯрж┐ ржПржЦржиржУ R1-ржПрж░ рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗ ржжрзГрж╢рзНржпржорж╛ржи (<strong>ржЙржжрж╛рж╣рж░ржг 11-35</strong>-ржП)ред рж╣рзЗржХрзНрж╕ ржорж╛ржи 23 (ржЕрж░рзНржерж╛рзО 0x23) ржжрж╢ржорж┐ржХ ржорж╛ржи 35-ржП рж░рзВржкрж╛ржирзНрждрж░рж┐ржд рж╣ржпрж╝, ржпрж╛рж░ ржЬржирзНржп 6 ржмрж┐ржЯ ржкрзНрж░ржпрж╝рзЛржЬржиред <code>2001:db8:0:23::/64</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЯрж┐ рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржХрж░рж╛рж░ ржЬржирзНржп рж╕рж╛ржорж╛рж░рж┐ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж░рзЗржЮрзНржЬржЯрж┐ <code>2001:db8::/58</code>-ржП ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ рж╣ржмрзЗред ржирж┐ржЪрзЗрж░ ржЙржжрж╛рж╣рж░ржгрзЗ R2-ржП ржПржЗ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржкрж░рж┐ржмрж░рзНрждржи ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗред
                                              </p>
                                          
                                              <h3>ржЙржжрж╛рж╣рж░ржг 11-36: 2001:db8:0:23::/64 ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж╕рж╛ржорж╛рж░рж╛ржЗржЬ ржХрж░рж╛рж░ ржЬржирзНржп ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржкрж░рж┐ржмрж░рзНрждржи</h3>
                                              <pre>
                                          R2# configure terminal
                                          Enter configuration commands, one per line.  End with CNTL/Z.
                                          R2(config)# router bgp 65200
                                          R2(config-router)# address-family ipv6 unicast
                                          R2(config-router-af)# no aggregate-address 2001:DB8::/59 summary-only
                                          R2(config-router-af)# aggregate-address 2001:DB8::/58 summary-only
                                              </pre>
                                          
                                              <h3>ржЙржжрж╛рж╣рж░ржг 11-37: 2001:db8:0:23::/64 ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗрж░ рж╕рж╛ржорж╛рж░рж╛ржЗржЬрзЗрж╢ржи ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛</h3>
                                              <pre>
                                          R1# show bgp ipv6 unicast | b Network
                                          Network            Next Hop          Metric LocPrf Weight Path
                                          *>  2001:DB8::/58      2001:DB8:0:12::2       0             0 65200 i
                                          *>  2001:DB8::1/128    ::                     0         32768 ?
                                          *>  2001:DB8:0:1::/64  ::                     0         32768 ?
                                          *>  2001:DB8:0:12::/64 ::                     0         32768 ?
                                              </pre>
                                          
                                              <p>
                                                  ржПржЗ ржЙржжрж╛рж╣рж░ржгрзЗ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ ржпрзЗ <code>2001:db8:0:23::/64</code> ржирзЗржЯржУржпрж╝рж╛рж░рзНржХржЯрж┐ ржПржЦржи ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ рж╕рзНржкрзЗрж╕рзЗрж░ ржоржзрзНржпрзЗ рж░ржпрж╝рзЗржЫрзЗ ржПржмржВ ржПржЯрж┐ ржЖрж░ R1-ржП ржмрж┐ржЬрзНржЮрж╛ржкрж┐ржд рж╣ржЪрзНржЫрзЗ ржирж╛ред
                                              </p>


                                                  <style>
                                                      body {
                                                          font-family: Arial, sans-serif;
                                                          line-height: 1.6;
                                                          margin: 20px;
                                                      }
                                                      table {
                                                          width: 100%;
                                                          border-collapse: collapse;
                                                          margin: 20px 0;
                                                      }
                                                      table, th, td {
                                                          border: 1px solid #ddd;
                                                      }
                                                      th, td {
                                                          padding: 8px;
                                                          text-align: left;
                                                      }
                                                      th {
                                                          background-color: #f2f2f2;
                                                      }
                                                      code {
                                                          background: #eaeaea;
                                                          padding: 2px 5px;
                                                          border-radius: 3px;
                                                      }
                                                  </style>
                                              </head>
                                              <body>
                                                  <h1>BGP ржХржорж╛ржирзНржб рж░рзЗржлрж╛рж░рзЗржирзНрж╕ (ржЙржжрж╛рж╣рж░ржг рж╕рж╣)</h1>
                                                  <table>
                                                      <thead>
                                                          <tr>
                                                              <th>ржЯрж╛рж╕рзНржХ</th>
                                                              <th>ржХржорж╛ржирзНржб рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕</th>
                                                              <th>ржЙржжрж╛рж╣рж░ржг</th>
                                                          </tr>
                                                      </thead>
                                                      <tbody>
                                                          <tr>
                                                              <td>BGP рж░рж╛ржЙржЯрж╛рж░ ржкрзНрж░рж╕рзЗрж╕ рж╢рзБрж░рзБ ржХрж░рзБржи</td>
                                                              <td><code>router bgp as-number</code></td>
                                                              <td><code>router bgp 65001</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>BGP ржкрж┐ржпрж╝рж╛рж░ рж╕рзЗрж╢ржи рж╕рзНржерж╛ржкржирзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржкрж┐ржпрж╝рж╛рж░ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзБржи</td>
                                                              <td><code>neighbor ip-address remote-as as-number</code></td>
                                                              <td><code>neighbor 192.168.1.2 remote-as 65002</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ IPv4 ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржорзЛржб ржирж┐рж╖рзНржХрзНрж░рж┐ржпрж╝ ржХрж░рзБржи</td>
                                                              <td><code>no bgp default ipv4-unicast</code></td>
                                                              <td><code>no bgp default ipv4-unicast</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐ ржПржмржВ рж╕рж╛ржм-ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐ рж╢рзБрж░рзБ ржХрж░рзБржи</td>
                                                              <td><code>address-family afi safi</code></td>
                                                              <td><code>address-family ipv6 unicast</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржлрзНржпрж╛ржорж┐рж▓рж┐рж░ ржЬржирзНржп BGP ржкрж┐ржпрж╝рж╛рж░ рж╕ржХрзНрж░рж┐ржпрж╝ ржХрж░рзБржи</td>
                                                              <td><code>neighbor ip-address activate</code></td>
                                                              <td><code>neighbor 2001:db8::1 activate</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>BGP-ржП ржПржХржЯрж┐ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржмрж┐ржЬрзНржЮрж╛ржкржи ржХрж░рзБржи</td>
                                                              <td><code>network network mask subnet-mask [route-map route-map-name]</code></td>
                                                              <td><code>network 192.168.1.0 mask 255.255.255.0</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>ржПржХржЯрж┐ BGP ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ IPv4 ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рзБржи</td>
                                                              <td><code>aggregate-address network subnet-mask [summary-only] [as-set]</code></td>
                                                              <td><code>aggregate-address 192.168.0.0 255.255.0.0 summary-only</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>ржПржХржЯрж┐ BGP ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ IPv6 ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рзБржи</td>
                                                              <td><code>aggregate-address prefix/prefix-length [summary-only] [as-set]</code></td>
                                                              <td><code>aggregate-address 2001:db8::/32 summary-only</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>BGP ржбрзЗржЯрж╛ржмрзЗрж╕рзЗрж░ ржмрж┐рж╖ржпрж╝ржмрж╕рзНрждрзБ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзБржи</td>
                                                              <td><code>show bgp afi safi [network] [detailed]</code></td>
                                                              <td><code>show bgp ipv4 unicast</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>BGP ржЯрзЗржмрж┐рж▓ ржПржмржВ ржкрж┐ржпрж╝рж╛рж░рж┐ржВ рж╕рзЗрж╢ржирзЗрж░ рж╕рж╛рж░рж╛ржВрж╢ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзБржи</td>
                                                              <td><code>show bgp afi safi summary</code></td>
                                                              <td><code>show bgp ipv6 unicast summary</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржкрж┐ржпрж╝рж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржЖрж▓рзЛржЪрж┐ржд BGP рж╕рзЗржЯрж┐ржВрж╕ ржПржмржВ рж╕рзЗржЗ ржкрж┐ржпрж╝рж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржмрж┐ржирж┐ржоржпрж╝ ржХрж░рж╛ ржкрзНрж░рж┐ржлрж┐ржХрзНрж╕рзЗрж░ рж╕ржВржЦрзНржпрж╛ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзБржи</td>
                                                              <td><code>show bgp afi safi neighbors ip-address</code></td>
                                                              <td><code>show bgp ipv4 unicast neighbors 192.168.1.2</code></td>
                                                          </tr>
                                                          <tr>
                                                              <td>ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ BGP ржкрж┐ржпрж╝рж╛рж░рзЗрж░ ржЬржирзНржп Adj-RIB-Out BGP ржЯрзЗржмрж┐рж▓ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзБржи</td>
                                                              <td><code>show bgp afi safi neighbor ip-address advertised-routes</code></td>
                                                              <td><code>show bgp ipv6 unicast neighbor 2001:db8::1 advertised-routes</code></td>
                                                          </tr>
                                                      </tbody>
                                                  </table>




                                                      <h1>BGP (Border Gateway Protocol)</h1>
                                                  
                                                      <h2>рзз. рж╕рж╛ржзрж╛рж░ржг ржзрж╛рж░ржгрж╛:</h2>
                                                      <p>
                                                          BGP рж╣рж▓рзЛ ржПржХржЯрж┐ ржЗржирзНржЯрж╛рж░ржирзЗржЯ рж░рж╛ржЙржЯрж┐ржВ ржкрзНрж░рзЛржЯрзЛржХрж▓ ржпрж╛ TCP (ржкрзЛрж░рзНржЯ 179)-ржПрж░ ржЙржкрж░ ржЪрж▓рзЗред<br>
                                                          TCP ржХрж╛ржирзЗржХрж╢ржи рждрзИрж░рж┐ рж╣ржУржпрж╝рж╛рж░ ржкрж░рзЗржЗ BGP рж╕рзЗрж╢ржи рж╢рзБрж░рзБ рж╣ржпрж╝ред<br>
                                                          ржЕрж░рзНржерж╛рзО, BGP ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп ржЙржнржпрж╝ рж░рж╛ржЙржЯрж╛рж░рзЗрж░ ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ ржкрзМржБржЫрж╛ржирзЛрж░ ржХрзНрж╖ржорждрж╛ (reachability) ржерж╛ржХрждрзЗ рж╣ржмрзЗред
                                                      </p>
                                                  
                                                      <h3>Path Vector Routing Protocol (ржкрж╛рже ржнрзЗржХрзНржЯрж░ рж░рж╛ржЙржЯрж┐ржВ ржкрзНрж░рзЛржЯрзЛржХрж▓):</h3>
                                                      <p>
                                                          ржПржЯрж┐ ржкрж╛рже ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯрзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ рж╕рзЗрж░рж╛ ржкрже ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзЗред<br>
                                                          ржПржХржЯрж┐ рж░рзБржЯ ржмрж▓рждрзЗ ржмрзЛржЭрж╛ржпрж╝:<br>
                                                          - ржЧржирзНрждржмрзНржп (destination) ржПржмржВ<br>
                                                          - рж╕рзЗржЗ ржЧржирзНрждржмрзНржпрзЗ ржкрзМржБржЫрж╛ржирзЛрж░ ржкржерзЗрж░ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп (attributes)ред<br>
                                                          Incremental BGP updates (ржХрзНрж░ржоржмрж░рзНржзржорж╛ржи ржЖржкржбрзЗржЯ): рж╢рзБржзрзБржорж╛рждрзНрж░ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж░рзБржЯржЧрзБрж▓рзЛрж░ ржЖржкржбрзЗржЯ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝ред
                                                      </p>
                                                  
                                                      <h2>рзи. ржкрж╛рже ржнрзЗржХрзНржЯрж░ рж░рж╛ржЙржЯрж┐ржВ ржкрзНрж░рзЛржЯрзЛржХрж▓</h2>
                                                      <p>
                                                          ржПржЯрж┐ ржмрж┐ржнрж┐ржирзНржи Autonomous System (AS)-ржПрж░ ржоржзрзНржпрзЗ рж░рж╛ржЙржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред<br>
                                                          рж░рзБржЯрзЗ ржЙрж▓рзНрж▓рзЗржЦ ржерж╛ржХрзЗ ржХрзЛржи ржХрзЛржи AS-ржПрж░ ржоржзрзНржп ржжрж┐ржпрж╝рзЗ ржЧржирзНрждржмрзНржпрзЗ ржкрзМржБржЫрж╛ржирзЛ ржпрж╛ржмрзЗред ржПржЗ рждрж╛рж▓рж┐ржХрж╛ржХрзЗ ржмрж▓рзЗ AS Pathред<br>
                                                          AS Path:<br>
                                                          - рж▓рзБржк ржПржбрж╝рж╛рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред<br>
                                                          - ржЧржирзНрждржмрзНржпрзЗ ржкрзМржБржЫрж╛ржирзЛрж░ рж╕рзЗрж░рж╛ ржкрже ржирж┐рж░рзНржмрж╛ржЪржирзЗржУ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред<br>
                                                          ржЙржжрж╛рж╣рж░ржг:
                                                      </p>
                                                      <pre>
                                                  192.168.1.0/24 10.2.4.67 121 0 6461 7018 6337 11268 i
                                                  ржПржЦрж╛ржирзЗ "AS Path" = 6461 7018 6337 11268
                                                      </pre>
                                                  
                                                      <h2>рзй. Internal & External BGP</h2>
                                                      <h3>eBGP (External BGP):</h3>
                                                      <p>
                                                          ржмрж┐ржнрж┐ржирзНржи AS-ржПрж░ ржоржзрзНржпрзЗ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ/рж░рзБржЯ ржмрж┐ржирж┐ржоржпрж╝ред<br>
                                                          Routing Policy ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржирзЗрж░ ржЬржирзНржп (ржпрзЗржоржи: ржЗржиржмрж╛ржЙржирзНржб/ржЖржЙржЯржмрж╛ржЙржирзНржб ржЯрзНрж░рж╛ржлрж┐ржХ ржХржирзНржЯрзНрж░рзЛрж▓)ред
                                                      </p>
                                                      <h3>iBGP (Internal BGP):</h3>
                                                      <p>
                                                          ржПржХржЗ AS-ржПрж░ ржнрзЗрждрж░ рж░рзБржЯ ржПржмржВ ржХрж╛рж╕рзНржЯржорж╛рж░ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржмрж╣ржи ржХрж░рзЗред<br>
                                                          ржЗржирзНржЯрж╛рж░ржирзЗржЯ рж░рзБржЯ (рж╕ржорзНржкрзВрж░рзНржг ржмрж╛ ржЖржВрж╢рж┐ржХ) AS-ржПрж░ ржнрзЗрждрж░ ржнрж╛ржЧ ржХрж░рж╛ рж╣ржпрж╝ред
                                                      </p>
                                                  
                                                      <h2>рзк. BGP ржорзНржпрж╛рж╕рзЗржЬ ржЯрж╛ржЗржк</h2>
                                                      <ol>
                                                          <li><strong>Open:</strong><br>
                                                              TCP ржХрж╛ржирзЗржХрж╢ржи рж╕рзНржерж╛ржкржирзЗрж░ ржкрж░рзЗ ржкрзНрж░рзЗрж░рж┐ржд рж╣ржпрж╝ред<br>
                                                              ржУржкрзЗржи ржорзНржпрж╛рж╕рзЗржЬ ржирж┐рж╢рзНржЪрж┐ржд рж╣рж▓рзЗ (Keepalive-ржПрж░ ржорж╛ржзрзНржпржорзЗ), BGP session рждрзИрж░рж┐ рж╣ржпрж╝ред<br>
                                                              ржПрждрзЗ ржерж╛ржХрзЗ:<br>
                                                              - ржкрзНрж░рзЗрж░ржХрзЗрж░ ASN (AS ржиржорзНржмрж░)<br>
                                                              - BGP ржнрж╛рж░рзНрж╕ржи<br>
                                                              - рж░рж╛ржЙржЯрж╛рж░ ID<br>
                                                              - Hold-time (рзйx keepalive interval)<br>
                                                              - ржРржЪрзНржЫрж┐ржХржнрж╛ржмрзЗ: authentication info
                                                          </li>
                                                          <li><strong>Keepalive:</strong><br>
                                                              ржУржкрзЗржи ржорзНржпрж╛рж╕рзЗржЬ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛рж░ ржЬржирзНржп ржПржмржВ рж╕рзЗрж╢ржи рж╕ржХрзНрж░рж┐ржпрж╝ рж░рж╛ржЦрждрзЗ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝ред (рзмрзж рж╕рзЗржХрзЗржирзНржб ржЕржирзНрждрж░)
                                                          </li>
                                                          <li><strong>Update:</strong><br>
                                                              ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж╕ржВржХрзНрж░рж╛ржирзНржд рждржерзНржп ржмрж┐ржирж┐ржоржпрж╝рзЗрж░ ржЬржирзНржпред<br>
                                                              ржПржХржЯрж┐ ржЖржкржбрзЗржЯ ржПржХрзЗржХржЯрж┐ ржкрж╛ржерзЗрж░ ржЬржирзНржпред<br>
                                                              ржПрждрзЗ ржерж╛ржХрзЗ:<br>
                                                              - Withdrawn routes: ржЖрж░ ржкрж╛ржУрзЯрж╛ ржпрж╛ржмрзЗ ржирж╛ ржПржоржи рж░рзБржЯ<br>
                                                              - Path attributes: рж░рзБржЯрзЗрж░ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп<br>
                                                              - NLRI (Network Layer Reachability Information): ржХрзЛржи ржХрзЛржи ржирзЗржЯржУрзЯрж╛рж░рзНржХрзЗ ржкрзМржБржЫрж╛ржирзЛ ржпрж╛ржмрзЗ
                                                          </li>
                                                          <li><strong>Notification:</strong><br>
                                                              ржХрзЛржирзЛ рждрзНрж░рзБржЯрж┐ ржзрж░рж╛ ржкрзЬрж▓рзЗ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝ред<br>
                                                              рж╕рзЗрж╢ржи рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржмржирзНржз ржХрж░рж╛ рж╣ржпрж╝ред<br>
                                                              рждрзНрж░рзБржЯрж┐рж░ ржмрж┐ржмрж░ржг ржерж╛ржХрзЗред
                                                          </li>
                                                      </ol>
                                                  
                                                      <h2>рзл. BGP Neighbor (ржкрж┐рзЯрж╛рж░) States</h2>
                                                      <p>
                                                          BGP ржирзЛржб рзмржЯрж┐ ржзрж╛ржк ржЕрждрж┐ржХрзНрж░ржо ржХрж░рзЗ:
                                                      </p>
                                                      <ol>
                                                          <li><strong>Idle</strong> тАУ ржкрзНрж░рждрж┐ржмрзЗрж╢рзА ржЦрзЛржБржЬрзЗред</li>
                                                          <li><strong>Connect</strong> тАУ TCP handshake рж╢рзБрж░рзБред</li>
                                                          <li><strong>Active</strong> тАУ TCP ржмрзНржпрж░рзНрже рж╣рж▓рзЗ ржкрзБржирж░рж╛ржпрж╝ ржЪрзЗрж╖рзНржЯрж╛ред</li>
                                                          <li><strong>OpenSent</strong> тАУ ржУржкрзЗржи ржорзНржпрж╛рж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗред</li>
                                                          <li><strong>OpenConfirm</strong> тАУ Keepalive ржПрж░ ржЬржирзНржп ржЕржкрзЗржХрзНрж╖рж╛ред</li>
                                                          <li><strong>Established</strong> тАУ рж╕рзЗрж╢ржи рж╕ржлрж▓, рж░рж╛ржЙржЯрж┐ржВ рждржерзНржп ржмрж┐ржирж┐ржоржпрж╝ рж╢рзБрж░рзБред</li>
                                                      </ol>
                                                  
                                                      <h2>рзм. BGP Neighbor рж╕ржорзНржкрж░рзНржХ (ржкрж┐рзЯрж╛рж░рж┐ржВ)</h2>
                                                      <h3>eBGP ржкрж┐рзЯрж╛рж░рж┐ржВ:</h3>
                                                      <p>
                                                          ржнрж┐ржирзНржи AS-ржПрж░ ржоржзрзНржпрзЗред<br>
                                                          рж╕рж╛ржзрж╛рж░ржгржд рж╕рж░рж╛рж╕рж░рж┐ рж╕ржВржпрзБржХрзНрждред<br>
                                                          IP ржарж┐ржХрж╛ржирж╛ TCP рж╕рзЗрж╢ржирзЗрж░ ржарж┐ржХрж╛ржирж╛рж░ рж╕рж╛ржерзЗ ржорж┐рж▓рзЗ ржерж╛ржХрждрзЗ рж╣ржмрзЗред<br>
                                                          ржЙржжрж╛рж╣рж░ржг:
                                                      </p>
                                                      <pre>
                                                  router bgp 17821
                                                  neighbor 172.16.12.2 remote-as 65000
                                                  !
                                                  address-family ipv4
                                                  neighbor 172.16.12.2 activate
                                                      </pre>
                                                  
                                                      <h3>iBGP ржкрж┐рзЯрж╛рж░рж┐ржВ:</h3>
                                                      <p>
                                                          ржПржХржЗ AS-ржПрж░ ржоржзрзНржпрзЗред<br>
                                                          рж╕рж░рж╛рж╕рж░рж┐ рж╕ржВржпрзБржХрзНржд рж╣рждрзЗ рж╣ржпрж╝ ржирж╛ (IGP ржжрж┐рзЯрзЗ ржкрзМржБржЫрж╛ржирзЛ ржпрж╛рзЯ)ред<br>
                                                          рж╕рж╛ржзрж╛рж░ржгржд loopback address ржмрзНржпржмрж╣рж╛рж░ рж╣рзЯред<br>
                                                          ржЙржжрж╛рж╣рж░ржг:
                                                      </p>
                                                      <pre>
                                                  router bgp 17821
                                                  neighbor 10.10.10.2 remote-as 17821
                                                      </pre>
                                                  
                                                      <h2>рзн. iBGP ржПрж░ ржХрж╛ржЬ</h2>
                                                      <p>
                                                          ржирж┐ржЬрж╕рзНржм ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж░рзБржЯ ржкрзНрж░ржХрж╛рж╢ ржХрж░рж╛ред<br>
                                                          ржмрж╛ржЗрж░рзЗрж░ AS ржерзЗржХрзЗ ржЖрж╕рж╛ рж░рзБржЯржЧрзБрж▓рж┐ AS ржПрж░ ржнрзЗрждрж░ ржЫржбрж╝рж┐ржпрж╝рзЗ ржжрзЗржпрж╝рж╛ред<br>
                                                          iBGP рж░рж╛ржЙржЯрж╛рж░ iBGP ржерзЗржХрзЗ рж╢рзЗржЦрж╛ рж░рзБржЯ ржЕржирзНржп iBGP ржкрж┐ржпрж╝рж╛рж░ржХрзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЗ ржирж╛ (рж▓рзБржк ржПржбрж╝рж╛рждрзЗ)ред<br>
                                                          ржлрж▓рзЗ full-mesh iBGP рж▓рж╛ржЧрзЗред<br>
                                                          ржЙржжрж╛рж╣рж░ржг (full-mesh):
                                                      </p>
                                                      <pre>
                                                  router bgp 17821
                                                  neighbor 10.10.10.2 remote-as 17821
                                                  neighbor 10.10.10.3 remote-as 17821
                                                  neighbor 10.10.10.4 remote-as 17821
                                                      </pre>
                                                  
                                                      <h2>рзо. Loopback ржерзЗржХрзЗ iBGP ржЪрж╛рж▓рж╛ржирзЛ</h2>
                                                      <p>
                                                          ржЖржкржбрзЗржЯрзЗрж░ рж╕рзЛрж░рзНрж╕ ржарж┐ржХрж╛ржирж╛ ржарж┐ржХ рж░рж╛ржЦрждрзЗ <code>update-source loopback</code> ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред<br>
                                                          ржЙржжрж╛рж╣рж░ржг:
                                                      </p>
                                                      <pre>
                                                  router bgp 17821
                                                  neighbor 10.10.10.1 remote-as 17821
                                                  neighbor 10.10.10.1 update-source loopback 0
                                                      </pre>
                                                  
                                                      <h2>рзп. BGP Synchronous Rule</h2>
                                                      <p>
                                                          iBGP рж╢рзЗржЦрж╛ рж░рзБржЯ рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗ ржпрзЛржЧ рж╣ржмрзЗ ржирж╛ ржмрж╛ eBGP рждрзЗ ржкрж╛ржарж╛ржирзЛ рж╣ржмрзЗ ржирж╛ ржпржжрж┐ ржирж╛ IGP ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╢рзЗржЦрж╛ ржпрж╛ржпрж╝ред<br>
                                                          ржХрж┐ржирзНрждрзБ ржпржжрж┐ AS ржПрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрзВрж░рзНржг full-mesh iBGP ржерж╛ржХрзЗ, рждржЦржи ржПржЯрж┐ ржмржирзНржз ржХрж░рж╛ ржирж┐рж░рж╛ржкржжред
                                                      </p>
                                                  
                                                      <h2>рззрзж. BGP-рждрзЗ ржирзЗржЯржУрзЯрж╛рж░рзНржХ ржШрзЛрж╖ржгрж╛ (Advertise Networks)</h2>
                                                      <ol>
                                                          <li><strong>network ржХржорж╛ржирзНржб ржжрж┐рзЯрзЗ:</strong><br>
                                                              ржпржжрж┐ рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓рзЗ ржерж╛ржХрзЗ, рждржЦржиржЗ BGP рждрзЗ ржкрж╛ржарж╛ржмрзЗред<br>
                                                              <pre>
                                                  router bgp 17821
                                                  address-family ipv4 unicast
                                                  network &lt;prefix&gt; mask &lt;subnet-mask&gt;
                                                              </pre>
                                                          </li>
                                                          <li><strong>redistribute ржХрж░рзЗ:</strong><br>
                                                              static ржмрж╛ connected route ржерзЗржХрзЗред<br>
                                                              ржЙржжрж╛рж╣рж░ржг ржЯржкрзЛрж▓ржЬрж┐:
                                                              <pre>
                                                  AS 17821
                                                  AS 17660
                                                  AS 15169
                                                              </pre>
                                                          </li>
                                                      </ol>

                                                          <h1>Network Topology</h1>
                                                          <pre>
                                                                        [R1]          [R2]          [R3]
                                                                          \            |            /
                                                                           \           |           /
                                                                            \          |          /
                                                                             \         |         /
                                                                              [TR1]---[TR2]---[TR3]
                                                                             /   \    /   \    /   \
                                                                            /     \  /     \  /     \
                                                                         [R4]   [R5]     [R6]     [R7]
                                                          </pre>
                                                          <p>R1, R2, R3 = Provider Routers</p>
                                                          <p>R4, R6 = Border Routers</p>
                                                          <p>R5, R7 = Access Routers</p>
                                                          <p>TR1, TR2, TR3 = Transit Routers</p>
                                                      
                                                          <h1>Router Configurations</h1>
                                                          <h2>R1 (Provider Router)</h2>
                                                          <pre>
                                                      conf t
                                                      hostname R1
                                                      no ip domain-lookup
                                                      
                                                      interface Loopback0
                                                       ip address 1.1.1.1 255.255.255.255
                                                      
                                                      interface e0/0
                                                       ip address 10.10.10.2 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/1
                                                       ip address 20.20.20.2 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/2
                                                       ip address 30.30.30.2 255.255.255.0
                                                       no shutdown
                                                      
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <h2>R2 (Provider Router)</h2>
                                                          <pre>
                                                      conf t
                                                      hostname R2
                                                      no ip domain-lookup
                                                      
                                                      interface Loopback0
                                                       ip address 2.2.2.2 255.255.255.255
                                                      
                                                      interface e0/0
                                                       ip address 10.10.10.3 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/1
                                                       ip address 20.20.20.3 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/2
                                                       ip address 30.30.30.3 255.255.255.0
                                                       no shutdown
                                                      
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <h2>R3 (Provider Router)</h2>
                                                          <pre>
                                                      conf t
                                                      hostname R3
                                                      no ip domain-lookup
                                                      
                                                      interface Loopback0
                                                       ip address 3.3.3.3 255.255.255.255
                                                      
                                                      interface e0/0
                                                       ip address 10.10.10.4 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/1
                                                       ip address 20.20.20.4 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/2
                                                       ip address 30.30.30.4 255.255.255.0
                                                       no shutdown
                                                      
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <h2>R4 (Border Router)</h2>
                                                          <pre>
                                                      conf t
                                                      hostname R4
                                                      no ip domain-lookup
                                                      
                                                      interface Loopback0
                                                       ip address 4.4.4.4 255.255.255.255
                                                      
                                                      interface e0/0
                                                       ip address 10.10.10.5 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/1
                                                       ip address 20.20.20.5 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/2
                                                       ip address 30.30.30.5 255.255.255.0
                                                       no shutdown
                                                      
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <h2>R5 (Access Router)</h2>
                                                          <pre>
                                                      conf t
                                                      hostname R5
                                                      no ip domain-lookup
                                                      
                                                      interface Loopback0
                                                       ip address 5.5.5.5 255.255.255.255
                                                      
                                                      interface e0/0
                                                       ip address 10.10.10.6 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/1
                                                       ip address 20.20.20.6 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/2
                                                       ip address 30.30.30.6 255.255.255.0
                                                       no shutdown
                                                      
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <h2>R6 (Border Router)</h2>
                                                          <pre>
                                                      conf t
                                                      hostname R6
                                                      no ip domain-lookup
                                                      
                                                      interface Loopback0
                                                       ip address 6.6.6.6 255.255.255.255
                                                      
                                                      interface e0/0
                                                       ip address 10.10.10.7 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/1
                                                       ip address 20.20.20.7 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/2
                                                       ip address 30.30.30.7 255.255.255.0
                                                       no shutdown
                                                      
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <h2>R7 (Access Router)</h2>
                                                          <pre>
                                                      conf t
                                                      hostname R7
                                                      no ip domain-lookup
                                                      
                                                      interface Loopback0
                                                       ip address 7.7.7.7 255.255.255.255
                                                      
                                                      interface e0/0
                                                       ip address 10.10.10.8 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/1
                                                       ip address 20.20.20.8 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/2
                                                       ip address 30.30.30.8 255.255.255.0
                                                       no shutdown
                                                      
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <h2>TR1 (Transit Router)</h2>
                                                          <pre>
                                                      conf t
                                                      hostname TR1
                                                      no ip domain-lookup
                                                      
                                                      interface e0/0
                                                       ip address 10.10.10.1 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/1
                                                       ip address 20.20.20.1 255.255.255.0
                                                       no shutdown
                                                      
                                                      interface e0/2
                                                       ip address 30.30.30.1 255.255.255.0
                                                       no shutdown
                                                      
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <h1>OSPF Configuration</h1>
                                                          <h2>R1 (OSPF Example)</h2>
                                                          <pre>
                                                      conf t
                                                      router ospf 1
                                                      router-id 1.1.1.1
                                                      network 10.10.10.0 0.0.0.255 area 0
                                                      network 20.20.20.0 0.0.0.255 area 0
                                                      network 30.30.30.0 0.0.0.255 area 0
                                                      network 1.1.1.1 0.0.0.0 area 0
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <h2>R2 (OSPF Example)</h2>
                                                          <pre>
                                                      conf t
                                                      router ospf 1
                                                      router-id 2.2.2.2
                                                      network 10.10.10.0 0.0.0.255 area 0
                                                      network 20.20.20.0 0.0.0.255 area 0
                                                      network 30.30.30.0 0.0.0.255 area 0
                                                      network 2.2.2.2 0.0.0.0 area 0
                                                      end
                                                      wr
                                                          </pre>
                                                      
                                                          <p>ржПржЗржнрж╛ржмрзЗ R3 ржерзЗржХрзЗ R7 ржкрж░рзНржпржирзНржд ржПржмржВ TR1, TR2, TR3 рж╕ржм ржЬрж╛рзЯржЧрж╛рзЯ OSPF configure рж╣ржмрзЗред рж╢рзБржзрзБ Router ID ржПржмржВ Loopback/Networks ржЕржирзБржпрж╛рзЯрзА IP ржЧрзБрж▓рзЛ adjust ржХрж░ржмрзЗред</p>



</body>
</html>
